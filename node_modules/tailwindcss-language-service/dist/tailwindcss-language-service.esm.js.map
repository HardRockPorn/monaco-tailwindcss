{"version":3,"file":"tailwindcss-language-service.esm.js","sources":["../src/util/isObject.ts","../src/util/removeMeta.ts","../src/util/rangesEqual.ts","../src/util/array.ts","../src/util/combinations.ts","../src/util/getClassNameAtPosition.ts","../src/util/remToPx.ts","../src/util/jit.ts","../src/util/color.ts","../src/util/languages.ts","../src/util/js.ts","../src/util/css.ts","../src/util/isWithinRange.ts","../src/util/lazy.ts","../src/util/lexers.ts","../src/util/resolveRange.ts","../src/util/doc.ts","../src/util/find.ts","../src/util/getLanguageBoundaries.ts","../src/util/html.ts","../src/util/stringify.ts","../src/util/screens.ts","../src/util/isValidLocationForEmmetAbbreviation.ts","../src/util/naturalExpand.ts","../src/util/semver.ts","../src/util/docsUrl.ts","../src/util/getClassNameMeta.ts","../src/util/flagEnabled.ts","../src/util/validateApply.ts","../src/util/getVariantsFromClassName.ts","../src/completionProvider.ts","../src/diagnostics/types.ts","../src/util/joinWithAnd.ts","../src/util/getClassNameDecls.ts","../src/diagnostics/getCssConflictDiagnostics.ts","../src/diagnostics/getInvalidApplyDiagnostics.ts","../src/util/closest.ts","../src/util/absoluteRange.ts","../src/diagnostics/getInvalidScreenDiagnostics.ts","../src/diagnostics/getInvalidVariantDiagnostics.ts","../src/util/stringToPath.ts","../src/diagnostics/getInvalidConfigPathDiagnostics.ts","../src/diagnostics/getInvalidTailwindDirectiveDiagnostics.ts","../src/diagnostics/getRecommendedVariantOrderDiagnostics.ts","../src/diagnostics/diagnosticsProvider.ts","../src/hoverProvider.ts","../src/util/removeRangesFromString.ts","../src/codeActions/provideCssConflictCodeActions.ts","../src/util/cssObjToAst.ts","../src/codeActions/provideInvalidApplyCodeActions.ts","../src/codeActions/provideSuggestionCodeActions.ts","../src/codeActions/codeActionProvider.ts","../src/documentColorProvider.ts"],"sourcesContent":["export default function isObject(variable: any): boolean {\n  return Object.prototype.toString.call(variable) === '[object Object]'\n}\n","import isObject from './isObject'\n\nexport default function removeMeta(obj: any): any {\n  let result = {}\n  for (let key in obj) {\n    if (key.substr(0, 2) === '__') continue\n    if (isObject(obj[key])) {\n      result[key] = removeMeta(obj[key])\n    } else {\n      result[key] = obj[key]\n    }\n  }\n  return result\n}\n","import type { Range } from 'vscode-languageserver'\n\nexport function rangesEqual(a: Range, b: Range): boolean {\n  return (\n    a.start.line === b.start.line &&\n    a.start.character === b.start.character &&\n    a.end.line === b.end.line &&\n    a.end.character === b.end.character\n  )\n}\n","import type { Range } from 'vscode-languageserver'\nimport { rangesEqual } from './rangesEqual'\n\nexport function dedupe<T>(arr: Array<T>): Array<T> {\n  return arr.filter((value, index, self) => self.indexOf(value) === index)\n}\n\nexport function dedupeBy<T>(arr: Array<T>, transform: (item: T) => any): Array<T> {\n  return arr.filter((value, index, self) => self.map(transform).indexOf(transform(value)) === index)\n}\n\nexport function dedupeByRange<T extends { range: Range }>(arr: Array<T>): Array<T> {\n  return arr.filter(\n    (classList, classListIndex) =>\n      classListIndex === arr.findIndex((c) => rangesEqual(c.range, classList.range))\n  )\n}\n\nexport function ensureArray<T>(value: T | T[]): T[] {\n  return Array.isArray(value) ? value : [value]\n}\n\nexport function flatten<T>(arrays: T[][]): T[] {\n  return [].concat.apply([], arrays)\n}\n\nexport function equal(a: any[], b: any[]): boolean {\n  if (a === b) return true\n  if (a.length !== b.length) return false\n\n  let aSorted = a.concat().sort()\n  let bSorted = b.concat().sort()\n\n  for (let i = 0; i < aSorted.length; ++i) {\n    if (aSorted[i] !== bSorted[i]) return false\n  }\n\n  return true\n}\n\nexport function equalExact(a: any[], b: any[]): boolean {\n  if (a === b) return true\n  if (a.length !== b.length) return false\n\n  for (let i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false\n  }\n\n  return true\n}\n","export function combinations(str: string): string[] {\n  let fn = function (active: string, rest: string, a: string[]) {\n    if (!active && !rest) return undefined\n    if (!rest) {\n      a.push(active)\n    } else {\n      fn(active + rest[0], rest.slice(1), a)\n      fn(active, rest.slice(1), a)\n    }\n    return a\n  }\n  return fn('', str, [])\n}\n","import { State } from './state'\nimport { combinations } from './combinations'\nimport dlv from 'dlv'\n\nexport function getClassNameParts(state: State, className: string): string[] {\n  let separator = state.separator\n  className = className.replace(/^\\./, '')\n  let parts: string[] = className.split(separator)\n\n  if (parts.length === 1) {\n    return dlv(state.classNames.classNames, [className, '__info', '__rule']) ===\n      true ||\n      Array.isArray(dlv(state.classNames.classNames, [className, '__info']))\n      ? [className]\n      : null\n  }\n\n  let points = combinations('123456789'.substr(0, parts.length - 1)).map((x) =>\n    x.split('').map((x) => parseInt(x, 10))\n  )\n\n  let possibilities: string[][] = [\n    [className],\n    ...points.map((p) => {\n      let result = []\n      let i = 0\n      p.forEach((x) => {\n        result.push(parts.slice(i, x).join('-'))\n        i = x\n      })\n      result.push(parts.slice(i).join('-'))\n      return result\n    }),\n  ]\n\n  return possibilities.find((key) => {\n    if (\n      dlv(state.classNames.classNames, [...key, '__info', '__rule']) === true ||\n      Array.isArray(dlv(state.classNames.classNames, [...key, '__info']))\n    ) {\n      return true\n    }\n    return false\n  })\n}\n","export function remToPx(value: string, rootSize: number = 16): string | undefined {\n  if (/^-?[0-9.]+rem$/.test(value)) {\n    let number = parseFloat(value.substr(0, value.length - 3))\n    if (!isNaN(number)) {\n      return `${number * rootSize}px`\n    }\n  }\n  return undefined\n}\n","import { State } from './state'\nimport type { Container, Document, Root, Rule } from 'postcss'\nimport dlv from 'dlv'\nimport { remToPx } from './remToPx'\n\nexport function bigSign(bigIntValue) {\n  // @ts-ignore\n  return (bigIntValue > 0n) - (bigIntValue < 0n)\n}\n\nexport function generateRules(state: State, classNames: string[]): { root: Root; rules: Rule[] } {\n  let rules: [bigint, Rule][] = state.modules.jit.generateRules\n    .module(new Set(classNames), state.jitContext)\n    .sort(([a], [z]) => bigSign(a - z))\n\n  let root = state.modules.postcss.module.root({ nodes: rules.map(([, rule]) => rule) })\n  state.modules.jit.expandApplyAtRules.module(state.jitContext)(root)\n\n  let actualRules: Rule[] = []\n  root.walkRules((subRule) => {\n    actualRules.push(subRule)\n  })\n\n  return {\n    root,\n    rules: actualRules,\n  }\n}\n\nexport async function stringifyRoot(state: State, root: Root, uri?: string): Promise<string> {\n  let settings = await state.editor.getConfiguration(uri)\n  let clone = root.clone()\n\n  clone.walkAtRules('defaults', (node) => {\n    node.remove()\n  })\n\n  if (settings.tailwindCSS.showPixelEquivalents) {\n    clone.walkDecls((decl) => {\n      let px = remToPx(decl.value, settings.tailwindCSS.rootFontSize)\n      if (px) {\n        decl.value = `${decl.value}/* ${px} */`\n      }\n    })\n  }\n\n  return clone\n    .toString()\n    .replace(/([^;{}\\s])(\\n\\s*})/g, (_match, before, after) => `${before};${after}`)\n    .replace(/^(?:    )+/gm, (indent: string) =>\n      ' '.repeat((indent.length / 4) * settings.editor.tabSize)\n    )\n}\n\nexport function stringifyRules(state: State, rules: Rule[], tabSize: number = 2): string {\n  return rules\n    .map((rule) => rule.toString().replace(/([^}{;])$/gm, '$1;'))\n    .join('\\n\\n')\n    .replace(/^(?:    )+/gm, (indent: string) => ' '.repeat((indent.length / 4) * tabSize))\n}\n\nexport async function stringifyDecls(state: State, rule: Rule, uri?: string): Promise<string> {\n  let settings = await state.editor.getConfiguration(uri)\n\n  let result = []\n  rule.walkDecls(({ prop, value }) => {\n    let px = settings.tailwindCSS.showPixelEquivalents\n      ? remToPx(value, settings.tailwindCSS.rootFontSize)\n      : undefined\n    result.push(`${prop}: ${value}${px ? `/* ${px} */` : ''};`)\n  })\n  return result.join(' ')\n}\n\nfunction replaceClassName(state: State, selector: string, find: string, replace: string): string {\n  const transform = (selectors) => {\n    selectors.walkClasses((className) => {\n      if (className.value === find) {\n        className.value = replace\n      }\n    })\n  }\n\n  return state.modules.postcssSelectorParser.module(transform).processSync(selector)\n}\n\nexport function getRuleContext(state: State, rule: Rule, className: string): string[] {\n  let context: string[] = [replaceClassName(state, rule.selector, className, '__placeholder__')]\n\n  let p: Container | Document = rule\n  while (p.parent && p.parent.type !== 'root') {\n    p = p.parent\n    if (p.type === 'atrule') {\n      // @ts-ignore\n      context.unshift(`@${p.name} ${p.params}`)\n    }\n  }\n\n  return context\n}\n","import dlv from 'dlv'\nimport { State } from './state'\nimport removeMeta from './removeMeta'\nimport { ensureArray, dedupe, flatten } from './array'\nimport type { Color } from 'vscode-languageserver'\nimport { getClassNameParts } from './getClassNameAtPosition'\nimport * as jit from './jit'\nimport * as culori from 'culori'\nimport namedColors from 'color-name'\n\nconst COLOR_PROPS = [\n  'accent-color',\n  'caret-color',\n  'color',\n  'column-rule-color',\n  'background-color',\n  'border-color',\n  'border-top-color',\n  'border-right-color',\n  'border-bottom-color',\n  'border-left-color',\n  'fill',\n  'outline-color',\n  'stop-color',\n  'stroke',\n  'text-decoration-color',\n]\n\nexport type KeywordColor = 'transparent' | 'currentColor'\n\nfunction getKeywordColor(value: unknown): KeywordColor | null {\n  if (typeof value !== 'string') return null\n  let lowercased = value.toLowerCase()\n  if (lowercased === 'transparent') {\n    return 'transparent'\n  }\n  if (lowercased === 'currentcolor') {\n    return 'currentColor'\n  }\n  return null\n}\n\n// https://github.com/khalilgharbaoui/coloregex\nconst colorRegex = new RegExp(\n  `(?:^|\\\\s|\\\\(|,)(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\\\(\\\\s*(-?[\\\\d.]+%?(\\\\s*[,/]\\\\s*|\\\\s+)+){2,3}\\\\s*([\\\\d.]+%?|var\\\\([^)]+\\\\))?\\\\)|transparent|currentColor|${Object.keys(\n    namedColors\n  ).join('|')})(?:$|\\\\s|\\\\)|,)`,\n  'gi'\n)\n\nfunction replaceColorVarsWithTheirDefaults(str: string): string {\n  // rgb(var(--primary, 66 66 66))\n  // -> rgb(66 66 66)\n  return str.replace(/((?:rgb|hsl)a?\\(\\s*)var\\([^,]+,\\s*([^)]+)\\)/gi, '$1$2')\n}\n\nfunction getColorsInString(str: string): (culori.Color | KeywordColor)[] {\n  if (/(?:box|drop)-shadow/.test(str)) return []\n\n  return Array.from(replaceColorVarsWithTheirDefaults(str).matchAll(colorRegex), (match) => {\n    let color = match[1].replace(/var\\([^)]+\\)/, '1')\n    return getKeywordColor(color) ?? culori.parse(color)\n  }).filter(Boolean)\n}\n\nfunction getColorFromDecls(\n  decls: Record<string, string | string[]>\n): culori.Color | KeywordColor | null {\n  let props = Object.keys(decls).filter((prop) => {\n    // ignore content: \"\";\n    if (\n      prop === 'content' &&\n      (decls[prop] === '\"\"' || decls[prop] === \"''\" || decls[prop] === 'var(--tw-content)')\n    ) {\n      return false\n    }\n    return true\n  })\n\n  if (props.length === 0) return null\n\n  const nonCustomProps = props.filter((prop) => !prop.startsWith('--'))\n\n  const areAllCustom = nonCustomProps.length === 0\n\n  if (!areAllCustom && nonCustomProps.some((prop) => !COLOR_PROPS.includes(prop))) {\n    // they should all be color-based props\n    return null\n  }\n\n  const propsToCheck = areAllCustom ? props : nonCustomProps\n\n  const colors = propsToCheck.flatMap((prop) => ensureArray(decls[prop]).flatMap(getColorsInString))\n\n  // check that all of the values are valid colors\n  // if (colors.some((color) => color instanceof TinyColor && !color.isValid)) {\n  //   return null\n  // }\n\n  // check that all of the values are the same color, ignoring alpha\n  const colorStrings = dedupe(\n    colors.map((color) =>\n      typeof color === 'string' ? color : culori.formatRgb({ ...color, alpha: undefined })\n    )\n  )\n  if (colorStrings.length !== 1) {\n    return null\n  }\n\n  let keyword = getKeywordColor(colorStrings[0])\n  if (keyword) {\n    return keyword\n  }\n\n  const nonKeywordColors = colors.filter(\n    (color): color is culori.Color => typeof color !== 'string'\n  )\n\n  const alphas = dedupe(nonKeywordColors.map((color) => color.alpha ?? 1))\n\n  if (alphas.length === 1) {\n    return nonKeywordColors[0]\n  }\n\n  if (alphas.length === 2 && alphas.includes(0)) {\n    return nonKeywordColors.find((color) => (color.alpha ?? 1) !== 0)\n  }\n\n  return null\n}\n\nexport function getColor(state: State, className: string): culori.Color | KeywordColor | null {\n  if (state.jit) {\n    if (state.classNames) {\n      const item = dlv(state.classNames.classNames, [className, '__info'])\n      if (item && item.__rule) {\n        return getColorFromDecls(removeMeta(item))\n      }\n    }\n\n    let { root, rules } = jit.generateRules(state, [className])\n    if (rules.length === 0) return null\n\n    let decls: Record<string, string | string[]> = {}\n    root.walkDecls((decl) => {\n      let value = decls[decl.prop]\n      if (value) {\n        if (Array.isArray(value)) {\n          value.push(decl.value)\n        } else {\n          decls[decl.prop] = [value, decl.value]\n        }\n      } else {\n        decls[decl.prop] = decl.value\n      }\n    })\n    return getColorFromDecls(decls)\n  }\n\n  let parts = getClassNameParts(state, className)\n  if (!parts) return null\n\n  const item = dlv(state.classNames.classNames, [...parts, '__info'])\n  if (!item.__rule) return null\n\n  return getColorFromDecls(removeMeta(item))\n}\n\nexport function getColorFromValue(value: unknown): culori.Color | KeywordColor | null {\n  if (typeof value !== 'string') return null\n  const trimmedValue = value.trim()\n  if (trimmedValue.toLowerCase() === 'transparent') {\n    return 'transparent'\n  }\n  if (trimmedValue.toLowerCase() === 'currentcolor') {\n    return 'currentColor'\n  }\n  if (\n    !/^\\s*(?:rgba?|hsla?)\\s*\\([^)]+\\)\\s*$/.test(trimmedValue) &&\n    !/^\\s*#[0-9a-f]+\\s*$/i.test(trimmedValue) &&\n    !Object.keys(namedColors).includes(trimmedValue)\n  ) {\n    return null\n  }\n  const color = culori.parse(trimmedValue)\n  return color ?? null\n}\n\nlet toRgb = culori.converter('rgb')\n\nexport function culoriColorToVscodeColor(color: culori.Color): Color {\n  let rgb = toRgb(color)\n  return { red: rgb.r, green: rgb.g, blue: rgb.b, alpha: rgb.alpha ?? 1 }\n}\n","export const htmlLanguages = [\n  'aspnetcorerazor',\n  'astro',\n  'astro-markdown',\n  'blade',\n  'django-html',\n  'edge',\n  'ejs',\n  'erb',\n  'gohtml',\n  'GoHTML',\n  'gohtmltmpl',\n  'haml',\n  'handlebars',\n  'hbs',\n  'html',\n  'HTML (Eex)',\n  'HTML (EEx)',\n  'html-eex',\n  'htmldjango',\n  'jade',\n  'leaf',\n  'liquid',\n  'markdown',\n  'mdx',\n  'mustache',\n  'njk',\n  'nunjucks',\n  'phoenix-heex',\n  'php',\n  'razor',\n  'slim',\n  'surface',\n  'twig',\n]\n\nexport const cssLanguages = [\n  'css',\n  'less',\n  'postcss',\n  'sass',\n  'scss',\n  'stylus',\n  'sugarss',\n  'tailwindcss',\n]\n\nexport const jsLanguages = [\n  'javascript',\n  'javascriptreact',\n  'reason',\n  'rescript',\n  'typescript',\n  'typescriptreact',\n]\n\nexport const specialLanguages = ['vue', 'svelte']\n\nexport const languages = [...cssLanguages, ...htmlLanguages, ...jsLanguages, ...specialLanguages]\n","import type { TextDocument, Position } from 'vscode-languageserver'\nimport { State } from './state'\nimport { jsLanguages } from './languages'\nimport { getLanguageBoundaries } from './getLanguageBoundaries'\n\nexport function isJsDoc(state: State, doc: TextDocument): boolean {\n  const userJsLanguages = Object.keys(state.editor.userLanguages).filter((lang) =>\n    jsLanguages.includes(state.editor.userLanguages[lang])\n  )\n\n  return [...jsLanguages, ...userJsLanguages].indexOf(doc.languageId) !== -1\n}\n\nexport function isJsxContext(state: State, doc: TextDocument, position: Position): boolean {\n  let str = doc.getText({\n    start: { line: 0, character: 0 },\n    end: position,\n  })\n\n  let boundaries = getLanguageBoundaries(state, doc, str)\n\n  return boundaries ? boundaries[boundaries.length - 1].type === 'jsx' : false\n}\n","import type { TextDocument, Position } from 'vscode-languageserver'\nimport { isVueDoc, isSvelteDoc, isHtmlDoc } from './html'\nimport { isJsDoc } from './js'\nimport { State } from './state'\nimport { cssLanguages } from './languages'\nimport { getLanguageBoundaries } from './getLanguageBoundaries'\n\nexport function isCssDoc(state: State, doc: TextDocument): boolean {\n  const userCssLanguages = Object.keys(state.editor.userLanguages).filter((lang) =>\n    cssLanguages.includes(state.editor.userLanguages[lang])\n  )\n\n  return [...cssLanguages, ...userCssLanguages].indexOf(doc.languageId) !== -1\n}\n\nexport function isCssContext(state: State, doc: TextDocument, position: Position): boolean {\n  if (isCssDoc(state, doc)) {\n    return true\n  }\n\n  if (isHtmlDoc(state, doc) || isVueDoc(doc) || isSvelteDoc(doc) || isJsDoc(state, doc)) {\n    let str = doc.getText({\n      start: { line: 0, character: 0 },\n      end: position,\n    })\n\n    let boundaries = getLanguageBoundaries(state, doc, str)\n\n    return boundaries ? boundaries[boundaries.length - 1].type === 'css' : false\n  }\n\n  return false\n}\n","import type { Position, Range } from 'vscode-languageserver'\n\nexport function isWithinRange(position: Position, range: Range): boolean {\n  if (\n    position.line === range.start.line &&\n    position.character >= range.start.character\n  ) {\n    if (\n      position.line === range.end.line &&\n      position.character > range.end.character\n    ) {\n      return false\n    } else {\n      return true\n    }\n  }\n  if (\n    position.line === range.end.line &&\n    position.character <= range.end.character\n  ) {\n    if (\n      position.line === range.start.line &&\n      position.character < range.end.character\n    ) {\n      return false\n    } else {\n      return true\n    }\n  }\n  if (position.line > range.start.line && position.line < range.end.line) {\n    return true\n  }\n  return false\n}\n","// https://www.codementor.io/@agustinchiappeberrini/lazy-evaluation-and-javascript-a5m7g8gs3\n\nexport interface Lazy<T> {\n  (): T\n  isLazy: boolean\n}\n\nexport const lazy = <T>(getter: () => T): Lazy<T> => {\n  let evaluated: boolean = false\n  let _res: T = null\n  const res = <Lazy<T>>function (): T {\n    if (evaluated) return _res\n    _res = getter.apply(this, arguments)\n    evaluated = true\n    return _res\n  }\n  res.isLazy = true\n  return res\n}\n","import moo from 'moo'\nimport { lazy } from './lazy'\n\nconst classAttributeStates: () => { [x: string]: moo.Rules } = () => ({\n  doubleClassList: {\n    arb: { match: new RegExp('(?<!\\\\\\\\)\\\\['), push: 'arbitrary' },\n    lbrace: { match: new RegExp('(?<!\\\\\\\\)\\\\{'), push: 'interpBrace' },\n    rbrace: { match: new RegExp('(?<!\\\\\\\\)\\\\}'), pop: 1 },\n    end: { match: new RegExp('(?<!\\\\\\\\)\"'), pop: 1 },\n    classlist: { match: new RegExp('[\\\\s\\\\S]'), lineBreaks: true },\n  },\n  singleClassList: {\n    lbrace: { match: new RegExp('(?<!\\\\\\\\)\\\\{'), push: 'interpBrace' },\n    rbrace: { match: new RegExp('(?<!\\\\\\\\)\\\\}'), pop: 1 },\n    end: { match: new RegExp(\"(?<!\\\\\\\\)'\"), pop: 1 },\n    classlist: { match: new RegExp('[\\\\s\\\\S]'), lineBreaks: true },\n  },\n  tickClassList: {\n    lbrace: { match: new RegExp('(?<=(?<!\\\\\\\\)\\\\$)\\\\{'), push: 'interpBrace' },\n    rbrace: { match: new RegExp('(?<!\\\\\\\\)\\\\}'), pop: 1 },\n    end: { match: new RegExp('(?<!\\\\\\\\)`'), pop: 1 },\n    classlist: { match: new RegExp('[\\\\s\\\\S]'), lineBreaks: true },\n  },\n  interpBrace: {\n    startSingle: { match: new RegExp(\"(?<!\\\\\\\\)'\"), push: 'singleClassList' },\n    startDouble: { match: new RegExp('(?<!\\\\\\\\)\"'), push: 'doubleClassList' },\n    startTick: { match: new RegExp('(?<!\\\\\\\\)`'), push: 'tickClassList' },\n    lbrace: { match: new RegExp('(?<!\\\\\\\\)\\\\{'), push: 'interpBrace' },\n    rbrace: { match: new RegExp('(?<!\\\\\\\\)\\\\}'), pop: 1 },\n    text: { match: new RegExp('[\\\\s\\\\S]'), lineBreaks: true },\n  },\n  interpSingle: {\n    startDouble: { match: new RegExp('(?<!\\\\\\\\)\"'), push: 'doubleClassList' },\n    startTick: { match: new RegExp('(?<!\\\\\\\\)`'), push: 'tickClassList' },\n    single: { match: new RegExp(\"(?<!\\\\\\\\)'\"), pop: 1 },\n    text: { match: new RegExp('[\\\\s\\\\S]'), lineBreaks: true },\n  },\n  interpDouble: {\n    startSingle: { match: new RegExp(\"(?<!\\\\\\\\)'\"), push: 'singleClassList' },\n    startTick: { match: new RegExp('(?<!\\\\\\\\)`'), push: 'tickClassList' },\n    double: { match: new RegExp('(?<!\\\\\\\\)\"'), pop: 1 },\n    text: { match: new RegExp('[\\\\s\\\\S]'), lineBreaks: true },\n  },\n  arbitrary: {\n    arb: { match: new RegExp('(?<!\\\\\\\\)\\\\]'), pop: 1 },\n    space: { match: /\\s/, pop: 1, lineBreaks: true },\n    arb2: { match: new RegExp('[\\\\s\\\\S]'), lineBreaks: true },\n  },\n})\n\nconst simpleClassAttributeStates: { [x: string]: moo.Rules } = {\n  main: {\n    start: { match: '\"', push: 'doubleClassList' },\n  },\n  doubleClassList: {\n    end: { match: '\"', pop: 1 },\n    classlist: { match: /[\\s\\S]/, lineBreaks: true },\n  },\n}\n\nexport const getClassAttributeLexer = lazy(() => {\n  let supportsNegativeLookbehind = true\n  try {\n    new RegExp('(?<!)')\n  } catch (_) {\n    supportsNegativeLookbehind = false\n  }\n\n  if (supportsNegativeLookbehind) {\n    return moo.states({\n      main: {\n        start1: { match: '\"', push: 'doubleClassList' },\n        start2: { match: \"'\", push: 'singleClassList' },\n        start3: { match: '{', push: 'interpBrace' },\n      },\n      ...classAttributeStates(),\n    })\n  }\n\n  return moo.states(simpleClassAttributeStates)\n})\n\nexport const getComputedClassAttributeLexer = lazy(() => {\n  let supportsNegativeLookbehind = true\n  try {\n    new RegExp('(?<!)')\n  } catch (_) {\n    supportsNegativeLookbehind = false\n  }\n\n  if (supportsNegativeLookbehind) {\n    return moo.states({\n      main: {\n        lbrace: { match: '{', push: 'interpBrace' },\n        single: { match: \"'\", push: 'interpSingle' },\n        double: { match: '\"', push: 'interpDouble' },\n      },\n      ...classAttributeStates(),\n    })\n  }\n\n  return moo.states(simpleClassAttributeStates)\n})\n","import type { Range } from 'vscode-languageserver'\n\nexport function resolveRange(range: Range, relativeTo?: Range) {\n  return {\n    start: {\n      line: (relativeTo?.start.line || 0) + range.start.line,\n      character:\n        (range.end.line === 0 ? relativeTo?.start.character || 0 : 0) +\n        range.start.character,\n    },\n    end: {\n      line: (relativeTo?.start.line || 0) + range.end.line,\n      character:\n        (range.end.line === 0 ? relativeTo?.start.character || 0 : 0) +\n        range.end.character,\n    },\n  }\n}\n","import type { TextDocument, Range } from 'vscode-languageserver'\nimport moo from 'moo'\n\nexport function getTextWithoutComments(\n  doc: TextDocument,\n  type: 'html' | 'js' | 'jsx' | 'css',\n  range?: Range\n): string\nexport function getTextWithoutComments(text: string, type: 'html' | 'js' | 'jsx' | 'css'): string\nexport function getTextWithoutComments(\n  docOrText: TextDocument | string,\n  type: 'html' | 'js' | 'jsx' | 'css',\n  range?: Range\n): string {\n  let text = typeof docOrText === 'string' ? docOrText : docOrText.getText(range)\n\n  if (type === 'js' || type === 'jsx') {\n    return getJsWithoutComments(text)\n  }\n\n  if (type === 'css') {\n    return text.replace(/\\/\\*.*?\\*\\//gs, replace)\n  }\n\n  return text.replace(/<!--.*?-->/gs, replace)\n}\n\nfunction replace(match: string): string {\n  return match.replace(/./gs, (char) => (char === '\\n' ? '\\n' : ' '))\n}\n\nlet jsLexer: moo.Lexer\n\nfunction getJsWithoutComments(text: string): string {\n  if (!jsLexer) {\n    jsLexer = moo.states({\n      main: {\n        commentLine: /\\/\\/.*?$/,\n        commentBlock: { match: /\\/\\*[^]*?\\*\\//, lineBreaks: true },\n        stringDouble: /\"(?:[^\"\\\\]|\\\\.)*\"/,\n        stringSingle: /'(?:[^'\\\\]|\\\\.)*'/,\n        stringBacktick: /`(?:[^`\\\\]|\\\\.)*`/,\n        other: { match: /[^]/, lineBreaks: true },\n      },\n    })\n  }\n\n  let str = ''\n  jsLexer.reset(text)\n\n  for (let token of jsLexer) {\n    if (token.type === 'commentLine') {\n      str += ' '.repeat(token.value.length)\n    } else if (token.type === 'commentBlock') {\n      str += token.value.replace(/./g, ' ')\n    } else {\n      str += token.value\n    }\n  }\n\n  return str\n}\n","import type { TextDocument, Range, Position } from 'vscode-languageserver'\nimport { DocumentClassName, DocumentClassList, State, DocumentHelperFunction } from './state'\nimport lineColumn from 'line-column'\nimport { isCssContext, isCssDoc } from './css'\nimport { isHtmlContext } from './html'\nimport { isWithinRange } from './isWithinRange'\nimport { isJsxContext } from './js'\nimport { dedupeByRange, flatten } from './array'\nimport { getClassAttributeLexer, getComputedClassAttributeLexer } from './lexers'\nimport { getLanguageBoundaries } from './getLanguageBoundaries'\nimport { resolveRange } from './resolveRange'\nimport Regex from 'becke-ch--regex--s0-0-v1--base--pl--lib'\nimport { getTextWithoutComments } from './doc'\n\nexport function findAll(re: RegExp, str: string): RegExpMatchArray[] {\n  let match: RegExpMatchArray\n  let matches: RegExpMatchArray[] = []\n  while ((match = re.exec(str)) !== null) {\n    matches.push({ ...match })\n  }\n  return matches\n}\n\nexport function findLast(re: RegExp, str: string): RegExpMatchArray {\n  const matches = findAll(re, str)\n  if (matches.length === 0) {\n    return null\n  }\n  return matches[matches.length - 1]\n}\n\nexport function getClassNamesInClassList({\n  classList,\n  range,\n  important,\n}: DocumentClassList): DocumentClassName[] {\n  const parts = classList.split(/(\\s+)/)\n  const names: DocumentClassName[] = []\n  let index = 0\n  for (let i = 0; i < parts.length; i++) {\n    if (i % 2 === 0) {\n      const start = indexToPosition(classList, index)\n      const end = indexToPosition(classList, index + parts[i].length)\n      names.push({\n        className: parts[i],\n        classList: {\n          classList,\n          range,\n          important,\n        },\n        relativeRange: {\n          start,\n          end,\n        },\n        range: {\n          start: {\n            line: range.start.line + start.line,\n            character: (end.line === 0 ? range.start.character : 0) + start.character,\n          },\n          end: {\n            line: range.start.line + end.line,\n            character: (end.line === 0 ? range.start.character : 0) + end.character,\n          },\n        },\n      })\n    }\n    index += parts[i].length\n  }\n  return names\n}\n\nexport async function findClassNamesInRange(\n  state: State,\n  doc: TextDocument,\n  range?: Range,\n  mode?: 'html' | 'css' | 'jsx',\n  includeCustom: boolean = true\n): Promise<DocumentClassName[]> {\n  const classLists = await findClassListsInRange(state, doc, range, mode, includeCustom)\n  return flatten(classLists.map(getClassNamesInClassList))\n}\n\nexport async function findClassNamesInDocument(\n  state: State,\n  doc: TextDocument\n): Promise<DocumentClassName[]> {\n  const classLists = await findClassListsInDocument(state, doc)\n  return flatten(classLists.map(getClassNamesInClassList))\n}\n\nexport function findClassListsInCssRange(doc: TextDocument, range?: Range): DocumentClassList[] {\n  const text = getTextWithoutComments(doc, 'css', range)\n  const matches = findAll(\n    /(@apply\\s+)(?<classList>[^;}]+?)(?<important>\\s*!important)?\\s*[;}]/g,\n    text\n  )\n  const globalStart: Position = range ? range.start : { line: 0, character: 0 }\n\n  return matches.map((match) => {\n    const start = indexToPosition(text, match.index + match[1].length)\n    const end = indexToPosition(text, match.index + match[1].length + match.groups.classList.length)\n    return {\n      classList: match.groups.classList,\n      important: Boolean(match.groups.important),\n      range: {\n        start: {\n          line: globalStart.line + start.line,\n          character: (end.line === 0 ? globalStart.character : 0) + start.character,\n        },\n        end: {\n          line: globalStart.line + end.line,\n          character: (end.line === 0 ? globalStart.character : 0) + end.character,\n        },\n      },\n    }\n  })\n}\n\nasync function findCustomClassLists(\n  state: State,\n  doc: TextDocument,\n  range?: Range\n): Promise<DocumentClassList[]> {\n  const settings = await state.editor.getConfiguration(doc.uri)\n  const regexes = settings.tailwindCSS.experimental.classRegex\n\n  if (!Array.isArray(regexes) || regexes.length === 0) return []\n\n  const text = doc.getText(range)\n  const result: DocumentClassList[] = []\n\n  for (let i = 0; i < regexes.length; i++) {\n    try {\n      let [containerRegexString, classRegexString] = Array.isArray(regexes[i])\n        ? regexes[i]\n        : [regexes[i]]\n\n      let containerRegex = new Regex(containerRegexString, 'g')\n      let containerMatch: ReturnType<Regex['exec']>\n\n      while ((containerMatch = containerRegex.exec(text)) !== null) {\n        const searchStart = doc.offsetAt(range?.start || { line: 0, character: 0 })\n        const matchStart = searchStart + containerMatch.index[1]\n        const matchEnd = matchStart + containerMatch[1].length\n\n        if (classRegexString) {\n          let classRegex = new Regex(classRegexString, 'g')\n          let classMatch: ReturnType<Regex['exec']>\n\n          while ((classMatch = classRegex.exec(containerMatch[1])) !== null) {\n            const classMatchStart = matchStart + classMatch.index[1]\n            const classMatchEnd = classMatchStart + classMatch[1].length\n            result.push({\n              classList: classMatch[1],\n              range: {\n                start: doc.positionAt(classMatchStart),\n                end: doc.positionAt(classMatchEnd),\n              },\n            })\n          }\n        } else {\n          result.push({\n            classList: containerMatch[1],\n            range: {\n              start: doc.positionAt(matchStart),\n              end: doc.positionAt(matchEnd),\n            },\n          })\n        }\n      }\n    } catch (_) {}\n  }\n\n  return result\n}\n\nexport function matchClassAttributes(text: string, attributes: string[]): RegExpMatchArray[] {\n  const attrs = attributes.filter((x) => typeof x === 'string').flatMap((a) => [a, `\\\\[${a}\\\\]`])\n  const re = /(?:\\s|:|\\()(ATTRS)\\s*=\\s*['\"`{]/\n  return findAll(new RegExp(re.source.replace('ATTRS', attrs.join('|')), 'gi'), text)\n}\n\nexport async function findClassListsInHtmlRange(\n  state: State,\n  doc: TextDocument,\n  type: 'html' | 'js' | 'jsx',\n  range?: Range\n): Promise<DocumentClassList[]> {\n  const text = getTextWithoutComments(doc, type, range)\n\n  const matches = matchClassAttributes(\n    text,\n    (await state.editor.getConfiguration(doc.uri)).tailwindCSS.classAttributes\n  )\n\n  const result: DocumentClassList[] = []\n\n  matches.forEach((match) => {\n    const subtext = text.substr(match.index + match[0].length - 1)\n\n    let lexer =\n      match[0][0] === ':' || (match[1].startsWith('[') && match[1].endsWith(']'))\n        ? getComputedClassAttributeLexer()\n        : getClassAttributeLexer()\n    lexer.reset(subtext)\n\n    let classLists: { value: string; offset: number }[] = []\n    let token: moo.Token\n    let currentClassList: { value: string; offset: number }\n\n    try {\n      for (let token of lexer) {\n        if (token.type === 'classlist' || token.type.startsWith('arb')) {\n          if (currentClassList) {\n            currentClassList.value += token.value\n          } else {\n            currentClassList = {\n              value: token.value,\n              offset: token.offset,\n            }\n          }\n        } else {\n          if (currentClassList) {\n            classLists.push({\n              value: currentClassList.value,\n              offset: currentClassList.offset,\n            })\n          }\n          currentClassList = undefined\n        }\n      }\n    } catch (_) {}\n\n    if (currentClassList) {\n      classLists.push({\n        value: currentClassList.value,\n        offset: currentClassList.offset,\n      })\n    }\n\n    result.push(\n      ...classLists\n        .map(({ value, offset }) => {\n          if (value.trim() === '') {\n            return null\n          }\n\n          const before = value.match(/^\\s*/)\n          const beforeOffset = before === null ? 0 : before[0].length\n          const after = value.match(/\\s*$/)\n          const afterOffset = after === null ? 0 : -after[0].length\n\n          const start = indexToPosition(\n            text,\n            match.index + match[0].length - 1 + offset + beforeOffset\n          )\n          const end = indexToPosition(\n            text,\n            match.index + match[0].length - 1 + offset + value.length + afterOffset\n          )\n\n          return {\n            classList: value.substr(beforeOffset, value.length + afterOffset),\n            range: {\n              start: {\n                line: (range?.start.line || 0) + start.line,\n                character: (end.line === 0 ? range?.start.character || 0 : 0) + start.character,\n              },\n              end: {\n                line: (range?.start.line || 0) + end.line,\n                character: (end.line === 0 ? range?.start.character || 0 : 0) + end.character,\n              },\n            },\n          }\n        })\n        .filter((x) => x !== null)\n    )\n  })\n\n  return result\n}\n\nexport async function findClassListsInRange(\n  state: State,\n  doc: TextDocument,\n  range?: Range,\n  mode?: 'html' | 'css' | 'jsx',\n  includeCustom: boolean = true\n): Promise<DocumentClassList[]> {\n  let classLists: DocumentClassList[]\n  if (mode === 'css') {\n    classLists = findClassListsInCssRange(doc, range)\n  } else {\n    classLists = await findClassListsInHtmlRange(state, doc, mode, range)\n  }\n  return dedupeByRange([\n    ...classLists,\n    ...(includeCustom ? await findCustomClassLists(state, doc, range) : []),\n  ])\n}\n\nexport async function findClassListsInDocument(\n  state: State,\n  doc: TextDocument\n): Promise<DocumentClassList[]> {\n  if (isCssDoc(state, doc)) {\n    return findClassListsInCssRange(doc)\n  }\n\n  let boundaries = getLanguageBoundaries(state, doc)\n  if (!boundaries) return []\n\n  return dedupeByRange(\n    flatten([\n      ...(await Promise.all(\n        boundaries\n          .filter((b) => b.type === 'html' || b.type === 'jsx')\n          .map(({ type, range }) =>\n            findClassListsInHtmlRange(state, doc, type === 'html' ? 'html' : 'jsx', range)\n          )\n      )),\n      ...boundaries\n        .filter((b) => b.type === 'css')\n        .map(({ range }) => findClassListsInCssRange(doc, range)),\n      await findCustomClassLists(state, doc),\n    ])\n  )\n}\n\nexport function findHelperFunctionsInDocument(\n  state: State,\n  doc: TextDocument\n): DocumentHelperFunction[] {\n  if (isCssDoc(state, doc)) {\n    return findHelperFunctionsInRange(doc)\n  }\n\n  let boundaries = getLanguageBoundaries(state, doc)\n  if (!boundaries) return []\n\n  return flatten(\n    boundaries\n      .filter((b) => b.type === 'css')\n      .map(({ range }) => findHelperFunctionsInRange(doc, range))\n  )\n}\n\nexport function findHelperFunctionsInRange(\n  doc: TextDocument,\n  range?: Range\n): DocumentHelperFunction[] {\n  const text = getTextWithoutComments(doc, 'css', range)\n  let matches = findAll(\n    /(?<prefix>[\\s:;/*(){}])(?<helper>config|theme)(?<innerPrefix>\\(\\s*)(?<path>[^)]*?)\\s*\\)/g,\n    text\n  )\n\n  return matches.map((match) => {\n    let quotesBefore = ''\n    let path = match.groups.path.replace(/['\"]+$/, '').replace(/^['\"]+/, (m) => {\n      quotesBefore = m\n      return ''\n    })\n    let matches = path.match(/^([^\\s]+)(?![^\\[]*\\])(?:\\s*\\/\\s*([^\\/\\s]+))$/)\n    if (matches) {\n      path = matches[1]\n    }\n    path = path.replace(/['\"]*\\s*$/, '')\n\n    let startIndex =\n      match.index +\n      match.groups.prefix.length +\n      match.groups.helper.length +\n      match.groups.innerPrefix.length\n\n    return {\n      helper: match.groups.helper === 'theme' ? 'theme' : 'config',\n      path,\n      ranges: {\n        full: resolveRange(\n          {\n            start: indexToPosition(text, startIndex),\n            end: indexToPosition(text, startIndex + match.groups.path.length),\n          },\n          range\n        ),\n        path: resolveRange(\n          {\n            start: indexToPosition(text, startIndex + quotesBefore.length),\n            end: indexToPosition(text, startIndex + quotesBefore.length + path.length),\n          },\n          range\n        ),\n      },\n    }\n  })\n}\n\nexport function indexToPosition(str: string, index: number): Position {\n  const { line, col } = lineColumn(str + '\\n', index)\n  return { line: line - 1, character: col - 1 }\n}\n\nexport async function findClassNameAtPosition(\n  state: State,\n  doc: TextDocument,\n  position: Position\n): Promise<DocumentClassName> {\n  let classNames = []\n  const positionOffset = doc.offsetAt(position)\n  const searchRange: Range = {\n    start: doc.positionAt(Math.max(0, positionOffset - 1000)),\n    end: doc.positionAt(positionOffset + 1000),\n  }\n\n  if (isCssContext(state, doc, position)) {\n    classNames = await findClassNamesInRange(state, doc, searchRange, 'css')\n  } else if (isHtmlContext(state, doc, position)) {\n    classNames = await findClassNamesInRange(state, doc, searchRange, 'html')\n  } else if (isJsxContext(state, doc, position)) {\n    classNames = await findClassNamesInRange(state, doc, searchRange, 'jsx')\n  }\n\n  if (classNames.length === 0) {\n    return null\n  }\n\n  const className = classNames.find(({ range }) => isWithinRange(position, range))\n\n  if (!className) return null\n\n  return className\n}\n","import type { TextDocument, Range } from 'vscode-languageserver'\nimport { isVueDoc, isHtmlDoc, isSvelteDoc } from './html'\nimport { State } from './state'\nimport { indexToPosition } from './find'\nimport { isJsDoc } from './js'\nimport moo from 'moo'\nimport Cache from 'tmp-cache'\nimport { getTextWithoutComments } from './doc'\n\nexport type LanguageBoundary = { type: 'html' | 'js' | 'css' | (string & {}); range: Range }\n\nlet htmlScriptTypes = [\n  // https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html#option-1-use-script-tag\n  'text/html',\n  // https://vuejs.org/guide/essentials/component-basics.html#dom-template-parsing-caveats\n  'text/x-template',\n  // https://github.com/tailwindlabs/tailwindcss-intellisense/issues/722\n  'text/x-handlebars-template',\n]\n\nlet text = { text: { match: /[^]/, lineBreaks: true } }\n\nlet states = {\n  main: {\n    cssBlockStart: { match: /<style(?=[>\\s])/, push: 'cssBlock' },\n    jsBlockStart: { match: '<script', push: 'jsBlock' },\n    ...text,\n  },\n  cssBlock: {\n    styleStart: { match: '>', next: 'style' },\n    cssBlockEnd: { match: '/>', pop: 1 },\n    attrStartDouble: { match: '\"', push: 'attrDouble' },\n    attrStartSingle: { match: \"'\", push: 'attrSingle' },\n    interp: { match: '{', push: 'interp' },\n    ...text,\n  },\n  jsBlock: {\n    scriptStart: { match: '>', next: 'script' },\n    jsBlockEnd: { match: '/>', pop: 1 },\n    langAttrStartDouble: { match: 'lang=\"', push: 'langAttrDouble' },\n    langAttrStartSingle: { match: \"lang='\", push: 'langAttrSingle' },\n    typeAttrStartDouble: { match: 'type=\"', push: 'typeAttrDouble' },\n    typeAttrStartSingle: { match: \"type='\", push: 'typeAttrSingle' },\n    attrStartDouble: { match: '\"', push: 'attrDouble' },\n    attrStartSingle: { match: \"'\", push: 'attrSingle' },\n    interp: { match: '{', push: 'interp' },\n    ...text,\n  },\n  interp: {\n    interp: { match: '{', push: 'interp' },\n    end: { match: '}', pop: 1 },\n    ...text,\n  },\n  langAttrDouble: {\n    langAttrEnd: { match: '\"', pop: 1 },\n    lang: { match: /[^\"]+/, lineBreaks: true },\n  },\n  langAttrSingle: {\n    langAttrEnd: { match: \"'\", pop: 1 },\n    lang: { match: /[^']+/, lineBreaks: true },\n  },\n  typeAttrDouble: {\n    langAttrEnd: { match: '\"', pop: 1 },\n    type: { match: /[^\"]+/, lineBreaks: true },\n  },\n  typeAttrSingle: {\n    langAttrEnd: { match: \"'\", pop: 1 },\n    type: { match: /[^']+/, lineBreaks: true },\n  },\n  attrDouble: {\n    attrEnd: { match: '\"', pop: 1 },\n    ...text,\n  },\n  attrSingle: {\n    attrEnd: { match: \"'\", pop: 1 },\n    ...text,\n  },\n  style: {\n    cssBlockEnd: { match: '</style>', pop: 1 },\n    ...text,\n  },\n  script: {\n    jsBlockEnd: { match: '</script>', pop: 1 },\n    ...text,\n  },\n}\n\nlet vueStates = {\n  ...states,\n  main: {\n    htmlBlockStart: { match: '<template', push: 'htmlBlock' },\n    ...states.main,\n  },\n  htmlBlock: {\n    htmlStart: { match: '>', next: 'html' },\n    htmlBlockEnd: { match: '/>', pop: 1 },\n    attrStartDouble: { match: '\"', push: 'attrDouble' },\n    attrStartSingle: { match: \"'\", push: 'attrSingle' },\n    interp: { match: '{', push: 'interp' },\n    ...text,\n  },\n  html: {\n    htmlBlockEnd: { match: '</template>', pop: 1 },\n    nestedBlockStart: { match: '<template', push: 'nestedBlock' },\n    ...text,\n  },\n  nestedBlock: {\n    nestedStart: { match: '>', next: 'nested' },\n    nestedBlockEnd: { match: '/>', pop: 1 },\n    ...text,\n  },\n  nested: {\n    nestedBlockEnd: { match: '</template>', pop: 1 },\n    nestedBlockStart: { match: '<template', push: 'nestedBlock' },\n    ...text,\n  },\n}\n\nlet defaultLexer = moo.states(states)\nlet vueLexer = moo.states(vueStates)\n\nlet cache = new Cache<string, LanguageBoundary[] | null>({ max: 25, maxAge: 1000 })\n\nexport function getLanguageBoundaries(\n  state: State,\n  doc: TextDocument,\n  text: string = doc.getText()\n): LanguageBoundary[] | null {\n  let cacheKey = `${doc.languageId}:${text}`\n\n  let cachedBoundaries = cache.get(cacheKey)\n  if (cachedBoundaries !== undefined) {\n    return cachedBoundaries\n  }\n\n  let isJs = isJsDoc(state, doc)\n\n  let defaultType = isVueDoc(doc)\n    ? 'none'\n    : isHtmlDoc(state, doc) || isSvelteDoc(doc)\n    ? 'html'\n    : isJs\n    ? 'jsx'\n    : null\n\n  if (defaultType === null) {\n    cache.set(cacheKey, null)\n    return null\n  }\n\n  text = getTextWithoutComments(text, isJs ? 'js' : 'html')\n\n  let lexer = defaultType === 'none' ? vueLexer : defaultLexer\n  lexer.reset(text)\n\n  let type = defaultType\n  let boundaries: LanguageBoundary[] = [\n    { type: defaultType, range: { start: { line: 0, character: 0 }, end: undefined } },\n  ]\n  let offset = 0\n\n  try {\n    for (let token of lexer) {\n      if (!token.type.startsWith('nested')) {\n        if (token.type.endsWith('BlockStart')) {\n          let position = indexToPosition(text, offset)\n          if (!boundaries[boundaries.length - 1].range.end) {\n            boundaries[boundaries.length - 1].range.end = position\n          }\n          type = token.type.replace(/BlockStart$/, '')\n          boundaries.push({ type, range: { start: position, end: undefined } })\n        } else if (token.type.endsWith('BlockEnd')) {\n          let position = indexToPosition(text, offset)\n          boundaries[boundaries.length - 1].range.end = position\n          boundaries.push({ type: defaultType, range: { start: position, end: undefined } })\n        } else if (token.type === 'lang') {\n          boundaries[boundaries.length - 1].type = token.text\n        } else if (token.type === 'type' && htmlScriptTypes.includes(token.text)) {\n          boundaries[boundaries.length - 1].type = 'html'\n        }\n      }\n      offset += token.text.length\n    }\n  } catch {\n    cache.set(cacheKey, null)\n    return null\n  }\n\n  if (!boundaries[boundaries.length - 1].range.end) {\n    boundaries[boundaries.length - 1].range.end = indexToPosition(text, offset)\n  }\n\n  cache.set(cacheKey, boundaries)\n\n  return boundaries\n}\n","import type { TextDocument, Position } from 'vscode-languageserver'\nimport { State } from './state'\nimport { htmlLanguages } from './languages'\nimport { getLanguageBoundaries } from './getLanguageBoundaries'\n\nexport function isHtmlDoc(state: State, doc: TextDocument): boolean {\n  const userHtmlLanguages = Object.keys(state.editor.userLanguages).filter((lang) =>\n    htmlLanguages.includes(state.editor.userLanguages[lang])\n  )\n\n  return [...htmlLanguages, ...userHtmlLanguages].indexOf(doc.languageId) !== -1\n}\n\nexport function isVueDoc(doc: TextDocument): boolean {\n  return doc.languageId === 'vue'\n}\n\nexport function isSvelteDoc(doc: TextDocument): boolean {\n  return doc.languageId === 'svelte'\n}\n\nexport function isHtmlContext(state: State, doc: TextDocument, position: Position): boolean {\n  let str = doc.getText({\n    start: { line: 0, character: 0 },\n    end: position,\n  })\n\n  let boundaries = getLanguageBoundaries(state, doc, str)\n\n  return boundaries ? boundaries[boundaries.length - 1].type === 'html' : false\n}\n","import removeMeta from './removeMeta'\nimport dlv from 'dlv'\nimport escapeClassName from 'css.escape'\nimport { ensureArray } from './array'\nimport { remToPx } from './remToPx'\nimport stringifyObject from 'stringify-object'\nimport isObject from './isObject'\nimport { Settings } from './state'\n\nexport function stringifyConfigValue(x: any): string {\n  if (isObject(x)) return `${Object.keys(x).length} values`\n  if (typeof x === 'function') return 'ƒ'\n  return stringifyObject(x, {\n    inlineCharacterLimit: Infinity,\n    singleQuotes: false,\n    transform: (obj, prop, originalResult) => {\n      if (typeof obj[prop] === 'function') {\n        return 'ƒ'\n      }\n      return originalResult\n    },\n  })\n}\n\nexport function stringifyCss(className: string, obj: any, settings: Settings): string {\n  if (obj.__rule !== true && !Array.isArray(obj)) return null\n\n  if (Array.isArray(obj)) {\n    const rules = obj.map((x) => stringifyCss(className, x, settings)).filter(Boolean)\n    if (rules.length === 0) return null\n    return rules.join('\\n\\n')\n  }\n\n  let css = ``\n  const indent = ' '.repeat(settings.editor.tabSize)\n\n  const context = dlv(obj, '__context', [])\n  const props = Object.keys(removeMeta(obj))\n  if (props.length === 0) return null\n\n  for (let i = 0; i < context.length; i++) {\n    css += `${indent.repeat(i)}${context[i]} {\\n`\n  }\n\n  const indentStr = indent.repeat(context.length)\n  const decls = props.reduce((acc, curr, i) => {\n    const propStr = ensureArray(obj[curr])\n      .map((val) => {\n        const px = settings.tailwindCSS.showPixelEquivalents\n          ? remToPx(val, settings.tailwindCSS.rootFontSize)\n          : undefined\n        return `${indentStr + indent}${curr}: ${val}${px ? `/* ${px} */` : ''};`\n      })\n      .join('\\n')\n    return `${acc}${i === 0 ? '' : '\\n'}${propStr}`\n  }, '')\n  css += `${indentStr}${augmentClassName(className, obj)} {\\n${decls}\\n${indentStr}}`\n\n  for (let i = context.length - 1; i >= 0; i--) {\n    css += `${indent.repeat(i)}\\n}`\n  }\n\n  return css\n}\n\nfunction augmentClassName(className: string, obj: any): string {\n  const pseudo = obj.__pseudo.join('')\n  const scope = obj.__scope ? `${obj.__scope} ` : ''\n  return `${scope}.${escapeClassName(className)}${pseudo}`\n}\n","import isObject from './isObject'\n\nexport type MinMaxScreen = {\n  min?: string\n  max?: string\n}\n\nexport type RawScreen = {\n  raw: string\n}\n\nexport type Screen = string | RawScreen | MinMaxScreen | MinMaxScreen[]\n\nfunction isRawScreen(screen: unknown): screen is RawScreen {\n  return isObject(screen) && (screen as RawScreen).raw !== undefined\n}\n\nexport function stringifyScreen(screen: Screen): string | undefined {\n  if (!screen) return undefined\n  if (typeof screen === 'string') return `@media (min-width: ${screen})`\n  if (isRawScreen(screen)) {\n    return `@media ${(screen as RawScreen).raw}`\n  }\n  let str = (Array.isArray(screen) ? screen : [screen])\n    .map((range) => {\n      return [\n        typeof range.min === 'string' ? `(min-width: ${range.min})` : null,\n        typeof range.max === 'string' ? `(max-width: ${range.max})` : null,\n      ]\n        .filter(Boolean)\n        .join(' and ')\n    })\n    .join(', ')\n  return str ? `@media ${str}` : undefined\n}\n","import type { TextDocument, Range, Position } from 'vscode-languageserver'\n\nexport function isValidLocationForEmmetAbbreviation(\n  document: TextDocument,\n  abbreviationRange: Range\n): boolean {\n  const startAngle = '<'\n  const endAngle = '>'\n  const escape = '\\\\'\n  const question = '?'\n  let start: Position = { line: 0, character: 0 }\n\n  let textToBackTrack = document.getText({\n    start: {\n      line: start.line,\n      character: start.character,\n    },\n    end: {\n      line: abbreviationRange.start.line,\n      character: abbreviationRange.start.character,\n    },\n  })\n\n  // Worse case scenario is when cursor is inside a big chunk of text which needs to backtracked\n  // Backtrack only 500 offsets to ensure we dont waste time doing this\n  if (textToBackTrack.length > 500) {\n    textToBackTrack = textToBackTrack.substr(textToBackTrack.length - 500)\n  }\n\n  if (!textToBackTrack.trim()) {\n    return true\n  }\n\n  let valid = true\n  let foundSpace = false // If < is found before finding whitespace, then its valid abbreviation. E.g.: <div|\n  let i = textToBackTrack.length - 1\n  if (textToBackTrack[i] === startAngle) {\n    return false\n  }\n\n  while (i >= 0) {\n    const char = textToBackTrack[i]\n    i--\n    if (!foundSpace && /\\s/.test(char)) {\n      foundSpace = true\n      continue\n    }\n    if (char === question && textToBackTrack[i] === startAngle) {\n      i--\n      continue\n    }\n    // Fix for https://github.com/Microsoft/vscode/issues/55411\n    // A space is not a valid character right after < in a tag name.\n    if (/\\s/.test(char) && textToBackTrack[i] === startAngle) {\n      i--\n      continue\n    }\n    if (char !== startAngle && char !== endAngle) {\n      continue\n    }\n    if (i >= 0 && textToBackTrack[i] === escape) {\n      i--\n      continue\n    }\n    if (char === endAngle) {\n      if (i >= 0 && textToBackTrack[i] === '=') {\n        continue // False alarm of cases like =>\n      } else {\n        break\n      }\n    }\n    if (char === startAngle) {\n      valid = !foundSpace\n      break\n    }\n  }\n\n  return valid\n}\n","export function naturalExpand(value: number, total?: number): string {\n  let length = typeof total === 'number' ? total.toString().length : 8\n  return ('0'.repeat(length) + value).slice(-length)\n}\n","import semverGte from 'semver/functions/gte'\nimport semverLte from 'semver/functions/lte'\n\nexport function gte(v1: string, v2: string): boolean {\n  if (v1.startsWith('0.0.0-insiders')) {\n    return true\n  }\n  return semverGte(v1, v2)\n}\n\nexport function lte(v1: string, v2: string): boolean {\n  if (v1.startsWith('0.0.0-insiders')) {\n    return false\n  }\n  return semverLte(v1, v2)\n}\n","import * as semver from './semver'\n\nexport function docsUrl(version: string, paths: string | string[]): string {\n  let major = 0\n  let url = 'https://tailwindcss-v0.netlify.app/docs/'\n  if (semver.gte(version, '0.99.0')) {\n    major = 1\n    url = 'https://v1.tailwindcss.com/docs/'\n  }\n  if (semver.gte(version, '1.99.0')) {\n    major = 2\n    url = 'https://tailwindcss.com/docs/'\n  }\n  const path = Array.isArray(paths) ? paths[major] || paths[paths.length - 1] : paths\n  return `${url}${path}`\n}\n","import { State, ClassNameMeta } from './state'\nimport { getClassNameParts } from './getClassNameAtPosition'\nimport dlv from 'dlv'\n\nexport function getClassNameMeta(\n  state: State,\n  classNameOrParts: string | string[]\n): ClassNameMeta | ClassNameMeta[] {\n  const parts = Array.isArray(classNameOrParts)\n    ? classNameOrParts\n    : getClassNameParts(state, classNameOrParts)\n  if (!parts) return null\n  const info = dlv(state.classNames.classNames, [...parts, '__info'])\n\n  if (Array.isArray(info)) {\n    return info.map((i) => ({\n      source: i.__source,\n      pseudo: i.__pseudo,\n      scope: i.__scope,\n      context: i.__context,\n    }))\n  }\n\n  return {\n    source: info.__source,\n    pseudo: info.__pseudo,\n    scope: info.__scope,\n    context: info.__context,\n  }\n}\n","import { State } from './state'\nimport dlv from 'dlv'\n\nexport function flagEnabled(state: State, flag: string) {\n  if (state.featureFlags.future.includes(flag)) {\n    return (\n      state.config.future === 'all' ||\n      dlv(state.config, ['future', flag], false)\n    )\n  }\n\n  if (state.featureFlags.experimental.includes(flag)) {\n    return (\n      state.config.experimental === 'all' ||\n      dlv(state.config, ['experimental', flag], false)\n    )\n  }\n\n  return false\n}\n","import { State } from './state'\nimport { getClassNameMeta } from './getClassNameMeta'\nimport { flagEnabled } from './flagEnabled'\nimport * as semver from './semver'\n\nexport function validateApply(\n  state: State,\n  classNameOrParts: string | string[]\n): { isApplyable: true } | { isApplyable: false; reason: string } | null {\n  if (state.jit) {\n    return { isApplyable: true }\n  }\n\n  const meta = getClassNameMeta(state, classNameOrParts)\n  if (!meta) return null\n\n  if (semver.gte(state.version, '2.0.0-alpha.1') || flagEnabled(state, 'applyComplexClasses')) {\n    return { isApplyable: true }\n  }\n\n  const className = Array.isArray(classNameOrParts)\n    ? classNameOrParts.join(state.separator)\n    : classNameOrParts\n\n  let reason: string\n\n  if (Array.isArray(meta)) {\n    reason = `'@apply' cannot be used with '${className}' because it is included in multiple rulesets.`\n  } else if (meta.source !== 'utilities') {\n    reason = `'@apply' cannot be used with '${className}' because it is not a utility.`\n  } else if (meta.context && meta.context.length > 0) {\n    if (meta.context.length === 1) {\n      reason = `'@apply' cannot be used with '${className}' because it is nested inside of an at-rule ('${meta.context[0]}').`\n    } else {\n      reason = `'@apply' cannot be used with '${className}' because it is nested inside of at-rules (${meta.context\n        .map((c) => `'${c}'`)\n        .join(', ')}).`\n    }\n  } else if (meta.pseudo && meta.pseudo.length > 0) {\n    if (meta.pseudo.length === 1) {\n      reason = `'@apply' cannot be used with '${className}' because its definition includes a pseudo-selector ('${meta.pseudo[0]}')`\n    } else {\n      reason = `'@apply' cannot be used with '${className}' because its definition includes pseudo-selectors (${meta.pseudo\n        .map((p) => `'${p}'`)\n        .join(', ')}).`\n    }\n  }\n\n  if (reason) {\n    return { isApplyable: false, reason }\n  }\n\n  return { isApplyable: true }\n}\n","import { State } from './state'\nimport * as jit from './jit'\n\nexport function getVariantsFromClassName(\n  state: State,\n  className: string\n): { variants: string[]; offset: number } {\n  let allVariants = state.variants.flatMap((variant) => {\n    if (variant.values.length) {\n      return variant.values.map((value) =>\n        value === 'DEFAULT' ? variant.name : `${variant.name}${variant.hasDash ? '-' : ''}${value}`\n      )\n    }\n    return [variant.name]\n  })\n  let variants = new Set<string>()\n  let offset = 0\n  let parts = splitAtTopLevelOnly(className, state.separator)\n  if (parts.length < 2) {\n    return { variants: Array.from(variants), offset }\n  }\n  parts = parts.filter(Boolean)\n\n  for (let part of parts) {\n    if (\n      allVariants.includes(part) ||\n      (state.jit &&\n        ((part.includes('[') && part.endsWith(']')) || part.includes('/')) &&\n        jit.generateRules(state, [`${part}${state.separator}[color:red]`]).rules.length > 0)\n    ) {\n      variants.add(part)\n      offset += part.length + state.separator.length\n      continue\n    }\n\n    break\n  }\n\n  return { variants: Array.from(variants), offset }\n}\n\n// https://github.com/tailwindlabs/tailwindcss/blob/a8a2e2a7191fbd4bee044523aecbade5823a8664/src/util/splitAtTopLevelOnly.js\nfunction splitAtTopLevelOnly(input: string, separator: string): string[] {\n  let stack: string[] = []\n  let parts: string[] = []\n  let lastPos = 0\n\n  for (let idx = 0; idx < input.length; idx++) {\n    let char = input[idx]\n\n    if (stack.length === 0 && char === separator[0]) {\n      if (separator.length === 1 || input.slice(idx, idx + separator.length) === separator) {\n        parts.push(input.slice(lastPos, idx))\n        lastPos = idx + separator.length\n      }\n    }\n\n    if (char === '(' || char === '[' || char === '{') {\n      stack.push(char)\n    } else if (\n      (char === ')' && stack[stack.length - 1] === '(') ||\n      (char === ']' && stack[stack.length - 1] === '[') ||\n      (char === '}' && stack[stack.length - 1] === '{')\n    ) {\n      stack.pop()\n    }\n  }\n\n  parts.push(input.slice(lastPos))\n\n  return parts\n}\n","import { Settings, State } from './util/state'\nimport type {\n  CompletionItem,\n  CompletionItemKind,\n  Range,\n  MarkupKind,\n  CompletionList,\n  TextDocument,\n  Position,\n  CompletionContext,\n} from 'vscode-languageserver'\nimport dlv from 'dlv'\nimport removeMeta from './util/removeMeta'\nimport { getColor, getColorFromValue } from './util/color'\nimport { isHtmlContext } from './util/html'\nimport { isCssContext } from './util/css'\nimport { findLast, matchClassAttributes } from './util/find'\nimport { stringifyConfigValue, stringifyCss } from './util/stringify'\nimport { stringifyScreen, Screen } from './util/screens'\nimport isObject from './util/isObject'\nimport * as emmetHelper from 'vscode-emmet-helper-bundled'\nimport { isValidLocationForEmmetAbbreviation } from './util/isValidLocationForEmmetAbbreviation'\nimport { isJsDoc, isJsxContext } from './util/js'\nimport { naturalExpand } from './util/naturalExpand'\nimport * as semver from './util/semver'\nimport { docsUrl } from './util/docsUrl'\nimport { ensureArray } from './util/array'\nimport { getClassAttributeLexer, getComputedClassAttributeLexer } from './util/lexers'\nimport { validateApply } from './util/validateApply'\nimport { flagEnabled } from './util/flagEnabled'\nimport { remToPx } from './util/remToPx'\nimport * as jit from './util/jit'\nimport { getVariantsFromClassName } from './util/getVariantsFromClassName'\nimport * as culori from 'culori'\nimport Regex from 'becke-ch--regex--s0-0-v1--base--pl--lib'\n\nlet isUtil = (className) =>\n  Array.isArray(className.__info)\n    ? className.__info.some((x) => x.__source === 'utilities')\n    : className.__info.__source === 'utilities'\n\nexport function completionsFromClassList(\n  state: State,\n  classList: string,\n  classListRange: Range,\n  filter?: (item: CompletionItem) => boolean,\n  context?: CompletionContext\n): CompletionList {\n  let classNames = classList.split(/[\\s+]/)\n  const partialClassName = classNames[classNames.length - 1]\n  let sep = state.separator\n  let parts = partialClassName.split(sep)\n  let subset: any\n  let subsetKey: string[] = []\n  let isSubset: boolean = false\n\n  let replacementRange = {\n    ...classListRange,\n    start: {\n      ...classListRange.start,\n      character: classListRange.end.character - partialClassName.length,\n    },\n  }\n\n  if (state.jit) {\n    let { variants: existingVariants, offset } = getVariantsFromClassName(state, partialClassName)\n\n    if (\n      context &&\n      (context.triggerKind === 1 ||\n        (context.triggerKind === 2 && context.triggerCharacter === '/')) &&\n      partialClassName.includes('/')\n    ) {\n      // modifiers\n      let modifiers: string[]\n      let beforeSlash = partialClassName.split('/').slice(0, -1).join('/')\n\n      if (state.classListContainsMetadata) {\n        let baseClassName = beforeSlash.slice(offset)\n        modifiers = state.classList.find(\n          (cls) => Array.isArray(cls) && cls[0] === baseClassName\n        )?.[1]?.modifiers\n      } else {\n        let testClass = beforeSlash + '/[0]'\n        let { rules } = jit.generateRules(state, [testClass])\n        if (rules.length > 0) {\n          let opacities = dlv(state.config, 'theme.opacity', {})\n          if (!isObject(opacities)) {\n            opacities = {}\n          }\n          modifiers = Object.keys(opacities)\n        }\n      }\n\n      if (modifiers) {\n        return withDefaults(\n          {\n            isIncomplete: false,\n            items: modifiers.map((modifier, index) => {\n              let className = `${beforeSlash}/${modifier}`\n              let kind: CompletionItemKind = 21\n              let documentation: string | undefined\n\n              const color = getColor(state, className)\n              if (color !== null) {\n                kind = 16\n                if (typeof color !== 'string' && (color.alpha ?? 1) !== 0) {\n                  documentation = culori.formatRgb(color)\n                }\n              }\n\n              return {\n                label: className,\n                ...(documentation ? { documentation } : {}),\n                kind,\n                sortText: naturalExpand(index),\n              }\n            }),\n          },\n          {\n            range: replacementRange,\n            data: state.completionItemData,\n          },\n          state.editor.capabilities.itemDefaults\n        )\n      }\n    }\n\n    replacementRange.start.character += offset\n\n    let important = partialClassName.substr(offset).startsWith('!')\n    if (important) {\n      replacementRange.start.character += 1\n    }\n\n    let items: CompletionItem[] = []\n\n    if (!important) {\n      let variantOrder = 0\n\n      function variantItem(\n        item: Omit<CompletionItem, 'kind' | 'data' | 'command' | 'sortText' | 'textEdit'>\n      ): CompletionItem {\n        return {\n          kind: 9,\n          data: {\n            ...(state.completionItemData ?? {}),\n            _type: 'variant',\n          },\n          command:\n            item.insertTextFormat === 2 // Snippet\n              ? undefined\n              : {\n                  title: '',\n                  command: 'editor.action.triggerSuggest',\n                },\n          sortText: '-' + naturalExpand(variantOrder++),\n          ...item,\n        }\n      }\n\n      items.push(\n        ...state.variants.flatMap((variant) => {\n          let items: CompletionItem[] = []\n\n          if (variant.isArbitrary) {\n            items.push(\n              variantItem({\n                label: `${variant.name}${variant.hasDash ? '-' : ''}[]${sep}`,\n                insertTextFormat: 2,\n                textEditText: `${variant.name}${variant.hasDash ? '-' : ''}[\\${1}]${sep}\\${0}`,\n                // command: {\n                //   title: '',\n                //   command: 'tailwindCSS.onInsertArbitraryVariantSnippet',\n                //   arguments: [variant.name, replacementRange],\n                // },\n              })\n            )\n          } else if (!existingVariants.includes(variant.name)) {\n            let shouldSortVariants = !semver.gte(state.version, '2.99.0')\n            let resultingVariants = [...existingVariants, variant.name]\n\n            if (shouldSortVariants) {\n              let allVariants = state.variants.map(({ name }) => name)\n              resultingVariants = resultingVariants.sort(\n                (a, b) => allVariants.indexOf(b) - allVariants.indexOf(a)\n              )\n            }\n\n            items.push(\n              variantItem({\n                label: `${variant.name}${sep}`,\n                detail: variant.selectors().join(', '),\n                textEditText: resultingVariants[resultingVariants.length - 1] + sep,\n                additionalTextEdits:\n                  shouldSortVariants && resultingVariants.length > 1\n                    ? [\n                        {\n                          newText:\n                            resultingVariants.slice(0, resultingVariants.length - 1).join(sep) +\n                            sep,\n                          range: {\n                            start: {\n                              ...classListRange.start,\n                              character: classListRange.end.character - partialClassName.length,\n                            },\n                            end: {\n                              ...replacementRange.start,\n                              character: replacementRange.start.character,\n                            },\n                          },\n                        },\n                      ]\n                    : [],\n              })\n            )\n          }\n\n          if (variant.values.length) {\n            items.push(\n              ...variant.values\n                .filter((value) => !existingVariants.includes(`${variant.name}-${value}`))\n                .map((value) =>\n                  variantItem({\n                    label:\n                      value === 'DEFAULT'\n                        ? `${variant.name}${sep}`\n                        : `${variant.name}${variant.hasDash ? '-' : ''}${value}${sep}`,\n                    detail: variant.selectors({ value }).join(', '),\n                  })\n                )\n            )\n          }\n\n          return items\n        })\n      )\n    }\n\n    if (state.classList) {\n      return withDefaults(\n        {\n          isIncomplete: false,\n          items: items.concat(\n            state.classList.map(([className, { color }], index) => {\n              let kind: CompletionItemKind = color ? 16 : 21\n              let documentation: string | undefined\n\n              if (color && typeof color !== 'string') {\n                documentation = culori.formatRgb(color)\n              }\n\n              return {\n                label: className,\n                kind,\n                ...(documentation ? { documentation } : {}),\n                sortText: naturalExpand(index, state.classList.length),\n              } as CompletionItem\n            })\n          ),\n        },\n        {\n          data: {\n            ...(state.completionItemData ?? {}),\n            ...(important ? { important } : {}),\n            variants: existingVariants,\n          },\n          range: replacementRange,\n        },\n        state.editor.capabilities.itemDefaults\n      )\n    }\n\n    return withDefaults(\n      {\n        isIncomplete: false,\n        items: items\n          .concat(\n            Object.keys(state.classNames.classNames)\n              .filter((className) => {\n                let item = state.classNames.classNames[className]\n                if (existingVariants.length === 0) {\n                  return item.__info\n                }\n                return item.__info && isUtil(item)\n              })\n              .map((className, index, classNames) => {\n                let kind: CompletionItemKind = 21\n                let documentation: string | undefined\n\n                const color = getColor(state, className)\n                if (color !== null) {\n                  kind = 16\n                  if (typeof color !== 'string' && (color.alpha ?? 1) !== 0) {\n                    documentation = culori.formatRgb(color)\n                  }\n                }\n\n                return {\n                  label: className,\n                  kind,\n                  ...(documentation ? { documentation } : {}),\n                  sortText: naturalExpand(index, classNames.length),\n                } as CompletionItem\n              })\n          )\n          .filter((item) => {\n            if (item === null) {\n              return false\n            }\n            if (filter && !filter(item)) {\n              return false\n            }\n            return true\n          }),\n      },\n      {\n        range: replacementRange,\n        data: {\n          ...(state.completionItemData ?? {}),\n          variants: existingVariants,\n          ...(important ? { important } : {}),\n        },\n      },\n      state.editor.capabilities.itemDefaults\n    )\n  }\n\n  for (let i = parts.length - 1; i > 0; i--) {\n    let keys = parts.slice(0, i).filter(Boolean)\n    subset = dlv(state.classNames.classNames, keys)\n    if (typeof subset !== 'undefined' && typeof dlv(subset, ['__info', '__rule']) === 'undefined') {\n      isSubset = true\n      subsetKey = keys\n      replacementRange = {\n        ...replacementRange,\n        start: {\n          ...replacementRange.start,\n          character: replacementRange.start.character + keys.join(sep).length + sep.length,\n        },\n      }\n      break\n    }\n  }\n\n  return withDefaults(\n    {\n      isIncomplete: false,\n      items: Object.keys(isSubset ? subset : state.classNames.classNames)\n        .filter((k) => k !== '__info')\n        .filter((className) => isContextItem(state, [...subsetKey, className]))\n        .map((className, index, classNames): CompletionItem => {\n          return {\n            label: className + sep,\n            kind: 9,\n            command: {\n              title: '',\n              command: 'editor.action.triggerSuggest',\n            },\n            sortText: '-' + naturalExpand(index, classNames.length),\n            data: {\n              ...(state.completionItemData ?? {}),\n              className,\n              variants: subsetKey,\n            },\n          }\n        })\n        .concat(\n          Object.keys(isSubset ? subset : state.classNames.classNames)\n            .filter((className) =>\n              dlv(state.classNames.classNames, [...subsetKey, className, '__info'])\n            )\n            .map((className, index, classNames) => {\n              let kind: CompletionItemKind = 21\n              let documentation: string | undefined\n\n              const color = getColor(state, className)\n              if (color !== null) {\n                kind = 16\n                if (typeof color !== 'string' && (color.alpha ?? 1) !== 0) {\n                  documentation = culori.formatRgb(color)\n                }\n              }\n\n              return {\n                label: className,\n                kind,\n                ...(documentation ? { documentation } : {}),\n                sortText: naturalExpand(index, classNames.length),\n              }\n            })\n        )\n        .filter((item) => {\n          if (item === null) {\n            return false\n          }\n          if (filter && !filter(item)) {\n            return false\n          }\n          return true\n        }),\n    },\n    {\n      range: replacementRange,\n      data: {\n        ...(state.completionItemData ?? {}),\n        variants: subsetKey,\n      },\n    },\n    state.editor.capabilities.itemDefaults\n  )\n}\n\nasync function provideClassAttributeCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position,\n  context?: CompletionContext\n): Promise<CompletionList> {\n  let str = document.getText({\n    start: document.positionAt(Math.max(0, document.offsetAt(position) - 1000)),\n    end: position,\n  })\n\n  let matches = matchClassAttributes(\n    str,\n    (await state.editor.getConfiguration(document.uri)).tailwindCSS.classAttributes\n  )\n\n  if (matches.length === 0) {\n    return null\n  }\n\n  let match = matches[matches.length - 1]\n\n  const lexer =\n    match[0][0] === ':' || (match[1].startsWith('[') && match[1].endsWith(']'))\n      ? getComputedClassAttributeLexer()\n      : getClassAttributeLexer()\n  lexer.reset(str.substr(match.index + match[0].length - 1))\n\n  try {\n    let tokens = Array.from(lexer)\n    let last = tokens[tokens.length - 1]\n    if (last.type.startsWith('start') || last.type === 'classlist' || last.type.startsWith('arb')) {\n      let classList = ''\n      for (let i = tokens.length - 1; i >= 0; i--) {\n        if (tokens[i].type === 'classlist' || tokens[i].type.startsWith('arb')) {\n          classList = tokens[i].value + classList\n        } else {\n          break\n        }\n      }\n\n      return completionsFromClassList(\n        state,\n        classList,\n        {\n          start: {\n            line: position.line,\n            character: position.character - classList.length,\n          },\n          end: position,\n        },\n        undefined,\n        context\n      )\n    }\n  } catch (_) {}\n\n  return null\n}\n\nasync function provideCustomClassNameCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position,\n  context?: CompletionContext\n): Promise<CompletionList> {\n  const settings = await state.editor.getConfiguration(document.uri)\n  const regexes = settings.tailwindCSS.experimental.classRegex\n  if (regexes.length === 0) return null\n\n  const positionOffset = document.offsetAt(position)\n\n  const searchRange: Range = {\n    start: document.positionAt(Math.max(0, positionOffset - 1000)),\n    end: document.positionAt(positionOffset + 1000),\n  }\n\n  let str = document.getText(searchRange)\n\n  for (let i = 0; i < regexes.length; i++) {\n    try {\n      let [containerRegexString, classRegexString] = Array.isArray(regexes[i])\n        ? regexes[i]\n        : [regexes[i]]\n\n      let containerRegex = new Regex(containerRegexString, 'g')\n      let containerMatch: ReturnType<Regex['exec']>\n\n      while ((containerMatch = containerRegex.exec(str)) !== null) {\n        const searchStart = document.offsetAt(searchRange.start)\n        const matchStart = searchStart + containerMatch.index[1]\n        const matchEnd = matchStart + containerMatch[1].length\n        const cursor = document.offsetAt(position)\n        if (cursor >= matchStart && cursor <= matchEnd) {\n          let classList: string\n\n          if (classRegexString) {\n            let classRegex = new Regex(classRegexString, 'g')\n            let classMatch: ReturnType<Regex['exec']>\n\n            while ((classMatch = classRegex.exec(containerMatch[1])) !== null) {\n              const classMatchStart = matchStart + classMatch.index[1]\n              const classMatchEnd = classMatchStart + classMatch[1].length\n              if (cursor >= classMatchStart && cursor <= classMatchEnd) {\n                classList = classMatch[1].substr(0, cursor - classMatchStart)\n              }\n            }\n\n            if (typeof classList === 'undefined') {\n              throw Error()\n            }\n          } else {\n            classList = containerMatch[1].substr(0, cursor - matchStart)\n          }\n\n          return completionsFromClassList(\n            state,\n            classList,\n            {\n              start: {\n                line: position.line,\n                character: position.character - classList.length,\n              },\n              end: position,\n            },\n            undefined,\n            context\n          )\n        }\n      }\n    } catch (_) {}\n  }\n\n  return null\n}\n\nfunction provideAtApplyCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position,\n  context?: CompletionContext\n): CompletionList {\n  let str = document.getText({\n    start: { line: Math.max(position.line - 30, 0), character: 0 },\n    end: position,\n  })\n\n  const match = findLast(/@apply\\s+(?<classList>[^;}]*)$/gi, str)\n\n  if (match === null) {\n    return null\n  }\n\n  const classList = match.groups.classList\n\n  return completionsFromClassList(\n    state,\n    classList,\n    {\n      start: {\n        line: position.line,\n        character: position.character - classList.length,\n      },\n      end: position,\n    },\n    (item) => {\n      if (item.kind === 9) {\n        return (\n          semver.gte(state.version, '2.0.0-alpha.1') || flagEnabled(state, 'applyComplexClasses')\n        )\n      }\n      let variants = item.data?.variants ?? []\n      let className = item.data?.className ?? item.label\n      let validated = validateApply(state, [...variants, className])\n      return validated !== null && validated.isApplyable === true\n    },\n    context\n  )\n}\n\nconst NUMBER_REGEX = /^(\\d+\\.?|\\d*\\.\\d+)$/\nfunction isNumber(str: string): boolean {\n  return NUMBER_REGEX.test(str)\n}\n\nasync function provideClassNameCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position,\n  context?: CompletionContext\n): Promise<CompletionList> {\n  if (isCssContext(state, document, position)) {\n    return provideAtApplyCompletions(state, document, position, context)\n  }\n\n  if (isHtmlContext(state, document, position) || isJsxContext(state, document, position)) {\n    return provideClassAttributeCompletions(state, document, position, context)\n  }\n\n  return null\n}\n\nfunction provideCssHelperCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position\n): CompletionList {\n  if (!isCssContext(state, document, position)) {\n    return null\n  }\n\n  let text = document.getText({\n    start: { line: position.line, character: 0 },\n    // read one extra character so we can see if it's a ] later\n    end: { line: position.line, character: position.character + 1 },\n  })\n\n  const match = text\n    .substr(0, text.length - 1) // don't include that extra character from earlier\n    .match(/[\\s:;/*(){}](?<helper>config|theme)\\(\\s*['\"]?(?<path>[^)'\"]*)$/)\n\n  if (match === null) {\n    return null\n  }\n\n  let alpha: string\n  let path = match.groups.path.replace(/^['\"]+/g, '')\n  let matches = path.match(/^([^\\s]+)(?![^\\[]*\\])(?:\\s*\\/\\s*([^\\/\\s]*))$/)\n  if (matches) {\n    path = matches[1]\n    alpha = matches[2]\n  }\n\n  if (alpha !== undefined) {\n    return null\n  }\n\n  let base = match.groups.helper === 'config' ? state.config : dlv(state.config, 'theme', {})\n  let parts = path.split(/([\\[\\].]+)/)\n  let keys = parts.filter((_, i) => i % 2 === 0)\n  let separators = parts.filter((_, i) => i % 2 !== 0)\n  // let obj =\n  //   keys.length === 1 ? base : dlv(base, keys.slice(0, keys.length - 1), {})\n\n  // if (!isObject(obj)) return null\n\n  function totalLength(arr: string[]): number {\n    return arr.reduce((acc, cur) => acc + cur.length, 0)\n  }\n\n  let obj: any\n  let offset: number = keys[keys.length - 1].length\n  let separator: string = separators.length ? separators[separators.length - 1] : null\n\n  if (keys.length === 1) {\n    obj = base\n  } else {\n    for (let i = keys.length - 1; i > 0; i--) {\n      let o = dlv(base, keys.slice(0, i))\n      if (isObject(o)) {\n        obj = o\n        offset = totalLength(parts.slice(i * 2))\n        separator = separators[i - 1]\n        break\n      }\n    }\n  }\n\n  if (!obj) return null\n\n  let editRange = {\n    start: {\n      line: position.line,\n      character: position.character - offset,\n    },\n    end: position,\n  }\n\n  return withDefaults(\n    {\n      isIncomplete: false,\n      items: Object.keys(obj)\n        .sort((a, z) => {\n          let aIsNumber = isNumber(a)\n          let zIsNumber = isNumber(z)\n          if (aIsNumber && !zIsNumber) {\n            return -1\n          }\n          if (!aIsNumber && zIsNumber) {\n            return 1\n          }\n          if (aIsNumber && zIsNumber) {\n            return parseFloat(a) - parseFloat(z)\n          }\n          return 0\n        })\n        .map((item, index, items) => {\n          let color = getColorFromValue(obj[item])\n          const replaceDot: boolean =\n            item.indexOf('.') !== -1 && separator && separator.endsWith('.')\n          const insertClosingBrace: boolean =\n            text.charAt(text.length - 1) !== ']' &&\n            (replaceDot || (separator && separator.endsWith('[')))\n          const detail = stringifyConfigValue(obj[item])\n\n          return {\n            label: item,\n            sortText: naturalExpand(index, items.length),\n            commitCharacters: [!item.includes('.') && '.', !item.includes('[') && '['].filter(\n              Boolean\n            ),\n            kind: color ? 16 : isObject(obj[item]) ? 9 : 10,\n            // VS Code bug causes some values to not display in some cases\n            detail: detail === '0' || detail === 'transparent' ? `${detail} ` : detail,\n            ...(color && typeof color !== 'string' && (color.alpha ?? 1) !== 0\n              ? { documentation: culori.formatRgb(color) }\n              : {}),\n            ...(insertClosingBrace ? { textEditText: `${item}]` } : {}),\n            additionalTextEdits: replaceDot\n              ? [\n                  {\n                    newText: '[',\n                    range: {\n                      start: {\n                        ...editRange.start,\n                        character: editRange.start.character - 1,\n                      },\n                      end: editRange.start,\n                    },\n                  },\n                ]\n              : [],\n          }\n        }),\n    },\n    {\n      range: editRange,\n      data: {\n        ...(state.completionItemData ?? {}),\n        _type: 'helper',\n      },\n    },\n    state.editor.capabilities.itemDefaults\n  )\n}\n\nfunction provideTailwindDirectiveCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position\n): CompletionList {\n  if (!isCssContext(state, document, position)) {\n    return null\n  }\n\n  let text = document.getText({\n    start: { line: position.line, character: 0 },\n    end: position,\n  })\n\n  const match = text.match(/^\\s*@tailwind\\s+(?<partial>[^\\s]*)$/i)\n\n  if (match === null) return null\n\n  let items = [\n    semver.gte(state.version, '1.0.0-beta.1')\n      ? {\n          label: 'base',\n          documentation: {\n            kind: 'markdown' as typeof MarkupKind.Markdown,\n            value: `This injects Tailwind’s base styles and any base styles registered by plugins.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n              state.version,\n              'functions-and-directives/#tailwind'\n            )})`,\n          },\n        }\n      : {\n          label: 'preflight',\n          documentation: {\n            kind: 'markdown' as typeof MarkupKind.Markdown,\n            value: `This injects Tailwind’s base styles, which is a combination of Normalize.css and some additional base styles.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n              state.version,\n              'functions-and-directives/#tailwind'\n            )})`,\n          },\n        },\n    {\n      label: 'components',\n      documentation: {\n        kind: 'markdown' as typeof MarkupKind.Markdown,\n        value: `This injects Tailwind’s component classes and any component classes registered by plugins.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n          state.version,\n          'functions-and-directives/#tailwind'\n        )})`,\n      },\n    },\n    {\n      label: 'utilities',\n      documentation: {\n        kind: 'markdown' as typeof MarkupKind.Markdown,\n        value: `This injects Tailwind’s utility classes and any utility classes registered by plugins.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n          state.version,\n          'functions-and-directives/#tailwind'\n        )})`,\n      },\n    },\n    state.jit && semver.gte(state.version, '2.1.99')\n      ? {\n          label: 'variants',\n          documentation: {\n            kind: 'markdown' as typeof MarkupKind.Markdown,\n            value: `Use this directive to control where Tailwind injects the utility variants.\\n\\nThis directive is considered an advanced escape hatch and it is recommended to omit it whenever possible. If omitted, Tailwind will append these classes to the very end of your stylesheet by default.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n              state.version,\n              'just-in-time-mode#variants-are-inserted-at-tailwind-variants'\n            )})`,\n          },\n        }\n      : {\n          label: 'screens',\n          documentation: {\n            kind: 'markdown' as typeof MarkupKind.Markdown,\n            value: `Use this directive to control where Tailwind injects the responsive variations of each utility.\\n\\nIf omitted, Tailwind will append these classes to the very end of your stylesheet by default.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n              state.version,\n              'functions-and-directives/#tailwind'\n            )})`,\n          },\n        },\n  ]\n\n  return withDefaults(\n    {\n      isIncomplete: false,\n      items: items.map((item) => ({\n        ...item,\n        kind: 21,\n      })),\n    },\n    {\n      data: {\n        ...(state.completionItemData ?? {}),\n        _type: '@tailwind',\n      },\n      range: {\n        start: {\n          line: position.line,\n          character: position.character - match.groups.partial.length,\n        },\n        end: position,\n      },\n    },\n    state.editor.capabilities.itemDefaults\n  )\n}\n\nfunction provideVariantsDirectiveCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position\n): CompletionList {\n  if (!isCssContext(state, document, position)) {\n    return null\n  }\n\n  if (semver.gte(state.version, '2.99.0')) {\n    return null\n  }\n\n  let text = document.getText({\n    start: { line: position.line, character: 0 },\n    end: position,\n  })\n\n  const match = text.match(/^\\s*@variants\\s+(?<partial>[^}]*)$/i)\n\n  if (match === null) return null\n\n  const parts = match.groups.partial.split(/\\s*,\\s*/)\n\n  if (/\\s+/.test(parts[parts.length - 1])) return null\n\n  let possibleVariants = state.variants.flatMap((variant) => {\n    if (variant.values.length) {\n      return variant.values.map((value) =>\n        value === 'DEFAULT' ? variant.name : `${variant.name}${variant.hasDash ? '-' : ''}${value}`\n      )\n    }\n    return [variant.name]\n  })\n  const existingVariants = parts.slice(0, parts.length - 1)\n\n  if (state.jit) {\n    possibleVariants.unshift('responsive')\n    possibleVariants = possibleVariants.filter((v) => !state.screens.includes(v))\n  }\n\n  return withDefaults(\n    {\n      isIncomplete: false,\n      items: possibleVariants\n        .filter((v) => existingVariants.indexOf(v) === -1)\n        .map((variant, index, variants) => ({\n          // TODO: detail\n          label: variant,\n          kind: 21,\n          sortText: naturalExpand(index, variants.length),\n        })),\n    },\n    {\n      data: {\n        ...(state.completionItemData ?? {}),\n        _type: 'variant',\n      },\n      range: {\n        start: {\n          line: position.line,\n          character: position.character - parts[parts.length - 1].length,\n        },\n        end: position,\n      },\n    },\n    state.editor.capabilities.itemDefaults\n  )\n}\n\nfunction provideLayerDirectiveCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position\n): CompletionList {\n  if (!isCssContext(state, document, position)) {\n    return null\n  }\n\n  let text = document.getText({\n    start: { line: position.line, character: 0 },\n    end: position,\n  })\n\n  const match = text.match(/^\\s*@layer\\s+(?<partial>[^\\s]*)$/i)\n\n  if (match === null) return null\n\n  return withDefaults(\n    {\n      isIncomplete: false,\n      items: ['base', 'components', 'utilities'].map((layer, index, layers) => ({\n        label: layer,\n        kind: 21,\n        sortText: naturalExpand(index, layers.length),\n      })),\n    },\n    {\n      data: {\n        ...(state.completionItemData ?? {}),\n        _type: 'layer',\n      },\n      range: {\n        start: {\n          line: position.line,\n          character: position.character - match.groups.partial.length,\n        },\n        end: position,\n      },\n    },\n    state.editor.capabilities.itemDefaults\n  )\n}\n\nfunction withDefaults(\n  completionList: CompletionList,\n  defaults: Partial<{ data: any; range: Range }>,\n  supportedDefaults: string[]\n): CompletionList {\n  let defaultData = supportedDefaults.includes('data')\n  let defaultRange = supportedDefaults.includes('editRange')\n\n  return {\n    ...completionList,\n    ...(defaultData || defaultRange\n      ? {\n          itemDefaults: {\n            ...(defaultData && defaults.data ? { data: defaults.data } : {}),\n            ...(defaultRange && defaults.range ? { editRange: defaults.range } : {}),\n          },\n        }\n      : {}),\n    items:\n      defaultData && defaultRange\n        ? completionList.items\n        : completionList.items.map(({ textEditText, ...item }) => ({\n            ...item,\n            ...(defaultData || !defaults.data || item.data ? {} : { data: defaults.data }),\n            ...(defaultRange || !defaults.range\n              ? textEditText\n                ? { textEditText }\n                : {}\n              : {\n                  textEdit: {\n                    newText: textEditText ?? item.label,\n                    range: defaults.range,\n                  },\n                }),\n          })),\n  }\n}\n\nfunction provideScreenDirectiveCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position\n): CompletionList {\n  if (!isCssContext(state, document, position)) {\n    return null\n  }\n\n  let text = document.getText({\n    start: { line: position.line, character: 0 },\n    end: position,\n  })\n\n  const match = text.match(/^\\s*@screen\\s+(?<partial>[^\\s]*)$/i)\n\n  if (match === null) return null\n\n  const screens = dlv(state.config, ['screens'], dlv(state.config, ['theme', 'screens'], {}))\n\n  if (!isObject(screens)) return null\n\n  return withDefaults(\n    {\n      isIncomplete: false,\n      items: Object.keys(screens).map((screen, index) => ({\n        label: screen,\n        kind: 21,\n        sortText: naturalExpand(index),\n      })),\n    },\n    {\n      data: {\n        ...(state.completionItemData ?? {}),\n        _type: 'screen',\n      },\n      range: {\n        start: {\n          line: position.line,\n          character: position.character - match.groups.partial.length,\n        },\n        end: position,\n      },\n    },\n    state.editor.capabilities.itemDefaults\n  )\n}\n\nfunction provideCssDirectiveCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position\n): CompletionList {\n  if (!isCssContext(state, document, position)) {\n    return null\n  }\n\n  let text = document.getText({\n    start: { line: position.line, character: 0 },\n    end: position,\n  })\n\n  const match = text.match(/^\\s*@(?<partial>[a-z]*)$/i)\n\n  if (match === null) return null\n\n  const items: CompletionItem[] = [\n    {\n      label: '@tailwind',\n      documentation: {\n        kind: 'markdown' as typeof MarkupKind.Markdown,\n        value: `Use the \\`@tailwind\\` directive to insert Tailwind’s \\`base\\`, \\`components\\`, \\`utilities\\` and \\`${\n          state.jit && semver.gte(state.version, '2.1.99') ? 'variants' : 'screens'\n        }\\` styles into your CSS.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n          state.version,\n          'functions-and-directives/#tailwind'\n        )})`,\n      },\n    },\n    {\n      label: '@screen',\n      documentation: {\n        kind: 'markdown' as typeof MarkupKind.Markdown,\n        value: `The \\`@screen\\` directive allows you to create media queries that reference your breakpoints by name instead of duplicating their values in your own CSS.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n          state.version,\n          'functions-and-directives/#screen'\n        )})`,\n      },\n    },\n    {\n      label: '@apply',\n      documentation: {\n        kind: 'markdown' as typeof MarkupKind.Markdown,\n        value: `Use \\`@apply\\` to inline any existing utility classes into your own custom CSS.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n          state.version,\n          'functions-and-directives/#apply'\n        )})`,\n      },\n    },\n    ...(semver.gte(state.version, '1.8.0')\n      ? [\n          {\n            label: '@layer',\n            documentation: {\n              kind: 'markdown' as typeof MarkupKind.Markdown,\n              value: `Use the \\`@layer\\` directive to tell Tailwind which \"bucket\" a set of custom styles belong to. Valid layers are \\`base\\`, \\`components\\`, and \\`utilities\\`.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n                state.version,\n                'functions-and-directives/#layer'\n              )})`,\n            },\n          },\n        ]\n      : []),\n    ...(semver.gte(state.version, '2.99.0')\n      ? []\n      : [\n          {\n            label: '@variants',\n            documentation: {\n              kind: 'markdown' as typeof MarkupKind.Markdown,\n              value: `You can generate \\`responsive\\`, \\`hover\\`, \\`focus\\`, \\`active\\`, and other variants of your own utilities by wrapping their definitions in the \\`@variants\\` directive.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n                state.version,\n                'functions-and-directives/#variants'\n              )})`,\n            },\n          },\n          {\n            label: '@responsive',\n            documentation: {\n              kind: 'markdown' as typeof MarkupKind.Markdown,\n              value: `You can generate responsive variants of your own classes by wrapping their definitions in the \\`@responsive\\` directive.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n                state.version,\n                'functions-and-directives/#responsive'\n              )})`,\n            },\n          },\n        ]),\n    ...(semver.gte(state.version, '3.2.0')\n      ? [\n          {\n            label: '@config',\n            documentation: {\n              kind: 'markdown' as typeof MarkupKind.Markdown,\n              value: `Use the \\`@config\\` directive to specify which config file Tailwind should use when compiling that CSS file.\\n\\n[Tailwind CSS Documentation](${docsUrl(\n                state.version,\n                'functions-and-directives/#config'\n              )})`,\n            },\n          },\n        ]\n      : []),\n  ]\n\n  return withDefaults(\n    {\n      isIncomplete: false,\n      items: items.map((item) => ({\n        ...item,\n        kind: 14,\n      })),\n    },\n    {\n      data: {\n        ...(state.completionItemData ?? {}),\n        _type: 'directive',\n      },\n      range: {\n        start: {\n          line: position.line,\n          character: position.character - match.groups.partial.length - 1,\n        },\n        end: position,\n      },\n    },\n    state.editor.capabilities.itemDefaults\n  )\n}\n\nasync function provideConfigDirectiveCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position\n): Promise<CompletionList> {\n  if (!isCssContext(state, document, position)) {\n    return null\n  }\n\n  if (!semver.gte(state.version, '3.2.0')) {\n    return null\n  }\n\n  let text = document.getText({ start: { line: position.line, character: 0 }, end: position })\n  let match = text.match(/@config\\s*(?<partial>'[^']*|\"[^\"]*)$/)\n  if (!match) {\n    return null\n  }\n  let partial = match.groups.partial.slice(1) // remove quote\n  let valueBeforeLastSlash = partial.substring(0, partial.lastIndexOf('/'))\n  let valueAfterLastSlash = partial.substring(partial.lastIndexOf('/') + 1)\n\n  return withDefaults(\n    {\n      isIncomplete: false,\n      items: (await state.editor.readDirectory(document, valueBeforeLastSlash || '.'))\n        .filter(([name, type]) => type.isDirectory || /\\.c?js$/.test(name))\n        .map(([name, type]) => ({\n          label: type.isDirectory ? name + '/' : name,\n          kind: type.isDirectory ? 19 : 17,\n          command: type.isDirectory\n            ? { command: 'editor.action.triggerSuggest', title: '' }\n            : undefined,\n        })),\n    },\n    {\n      data: {\n        ...(state.completionItemData ?? {}),\n        _type: 'filesystem',\n      },\n      range: {\n        start: {\n          line: position.line,\n          character: position.character - valueAfterLastSlash.length,\n        },\n        end: position,\n      },\n    },\n    state.editor.capabilities.itemDefaults\n  )\n}\n\nasync function provideEmmetCompletions(\n  state: State,\n  document: TextDocument,\n  position: Position\n): Promise<CompletionList> {\n  let settings = await state.editor.getConfiguration(document.uri)\n  if (settings.tailwindCSS.emmetCompletions !== true) return null\n\n  const isHtml = !isJsDoc(state, document) && isHtmlContext(state, document, position)\n  const isJs = isJsDoc(state, document) || isJsxContext(state, document, position)\n\n  const syntax = isHtml ? 'html' : isJs ? 'jsx' : null\n\n  if (syntax === null) {\n    return null\n  }\n\n  const extractAbbreviationResults = emmetHelper.extractAbbreviation(document, position, true)\n  if (\n    !extractAbbreviationResults ||\n    !emmetHelper.isAbbreviationValid(syntax, extractAbbreviationResults.abbreviation)\n  ) {\n    return null\n  }\n\n  if (\n    !isValidLocationForEmmetAbbreviation(document, extractAbbreviationResults.abbreviationRange)\n  ) {\n    return null\n  }\n\n  if (isJs) {\n    const abbreviation: string = extractAbbreviationResults.abbreviation\n    if (abbreviation.startsWith('this.')) {\n      return null\n    }\n    const symbols = await state.editor.getDocumentSymbols(document.uri)\n    if (\n      symbols &&\n      symbols.find(\n        (symbol) =>\n          abbreviation === symbol.name ||\n          (abbreviation.startsWith(symbol.name + '.') && !/>|\\*|\\+/.test(abbreviation))\n      )\n    ) {\n      return null\n    }\n  }\n\n  const emmetItems = emmetHelper.doComplete(document, position, syntax, {})\n\n  if (!emmetItems || !emmetItems.items || emmetItems.items.length !== 1) {\n    return null\n  }\n\n  // https://github.com/microsoft/vscode/issues/86941\n  if (emmetItems.items[0].label === 'widows: ;') {\n    return null\n  }\n\n  const parts = emmetItems.items[0].label.split('.')\n  if (parts.length < 2) return null\n\n  return completionsFromClassList(state, parts[parts.length - 1], {\n    start: {\n      line: position.line,\n      character: position.character - parts[parts.length - 1].length,\n    },\n    end: position,\n  })\n}\n\nexport async function doComplete(\n  state: State,\n  document: TextDocument,\n  position: Position,\n  context?: CompletionContext\n) {\n  if (state === null) return { items: [], isIncomplete: false }\n\n  const result =\n    (await provideClassNameCompletions(state, document, position, context)) ||\n    provideCssHelperCompletions(state, document, position) ||\n    provideCssDirectiveCompletions(state, document, position) ||\n    provideScreenDirectiveCompletions(state, document, position) ||\n    provideVariantsDirectiveCompletions(state, document, position) ||\n    provideTailwindDirectiveCompletions(state, document, position) ||\n    provideLayerDirectiveCompletions(state, document, position) ||\n    (await provideConfigDirectiveCompletions(state, document, position)) ||\n    (await provideCustomClassNameCompletions(state, document, position, context))\n\n  if (result) return result\n\n  return provideEmmetCompletions(state, document, position)\n}\n\nexport async function resolveCompletionItem(\n  state: State,\n  item: CompletionItem\n): Promise<CompletionItem> {\n  if (\n    ['helper', 'directive', 'variant', 'layer', '@tailwind', 'filesystem'].includes(\n      item.data?._type\n    )\n  ) {\n    return item\n  }\n\n  if (item.data?._type === 'screen') {\n    let screens = dlv(state.config, ['theme', 'screens'], dlv(state.config, ['screens'], {}))\n    if (!isObject(screens)) screens = {}\n    item.detail = stringifyScreen(screens[item.label] as Screen)\n    return item\n  }\n\n  let className = item.data?.className ?? item.label\n  if (item.data?.important) {\n    className = `!${className}`\n  }\n  let variants = item.data?.variants ?? []\n\n  if (state.jit) {\n    if (item.kind === 9) return item\n    if (item.detail && item.documentation) return item\n    let { root, rules } = jit.generateRules(state, [[...variants, className].join(state.separator)])\n    if (rules.length === 0) return item\n    if (!item.detail) {\n      if (rules.length === 1) {\n        item.detail = await jit.stringifyDecls(state, rules[0])\n      } else {\n        item.detail = `${rules.length} rules`\n      }\n    }\n    if (!item.documentation) {\n      item.documentation = {\n        kind: 'markdown' as typeof MarkupKind.Markdown,\n        value: ['```css', await jit.stringifyRoot(state, root), '```'].join('\\n'),\n      }\n    }\n    return item\n  }\n\n  const rules = dlv(state.classNames.classNames, [...variants, className, '__info'])\n  if (item.kind === 9) {\n    item.detail = state.classNames.context[className].join(', ')\n  } else {\n    item.detail = await getCssDetail(state, rules)\n    if (!item.documentation) {\n      const settings = await state.editor.getConfiguration()\n      const css = stringifyCss([...variants, className].join(':'), rules, settings)\n      if (css) {\n        item.documentation = {\n          kind: 'markdown' as typeof MarkupKind.Markdown,\n          value: ['```css', css, '```'].join('\\n'),\n        }\n      }\n    }\n  }\n  return item\n}\n\nfunction isContextItem(state: State, keys: string[]): boolean {\n  const item = dlv(state.classNames.classNames, [keys])\n\n  if (!isObject(item)) {\n    return false\n  }\n  if (!state.classNames.context[keys[keys.length - 1]]) {\n    return false\n  }\n  if (Object.keys(item).filter((x) => x !== '__info').length > 0) {\n    return true\n  }\n\n  return isObject(item.__info) && !item.__info.__rule\n}\n\nfunction stringifyDecls(obj: any, settings: Settings): string {\n  let props = Object.keys(obj)\n  let nonCustomProps = props.filter((prop) => !prop.startsWith('--'))\n\n  if (props.length !== nonCustomProps.length && nonCustomProps.length !== 0) {\n    props = nonCustomProps\n  }\n\n  return props\n    .map((prop) =>\n      ensureArray(obj[prop])\n        .map((value) => {\n          const px = settings.tailwindCSS.showPixelEquivalents\n            ? remToPx(value, settings.tailwindCSS.rootFontSize)\n            : undefined\n          return `${prop}: ${value}${px ? `/* ${px} */` : ''};`\n        })\n        .join(' ')\n    )\n    .join(' ')\n}\n\nasync function getCssDetail(state: State, className: any): Promise<string> {\n  if (Array.isArray(className)) {\n    return `${className.length} rules`\n  }\n  if (className.__rule === true) {\n    const settings = await state.editor.getConfiguration()\n    return stringifyDecls(removeMeta(className), settings)\n  }\n  return null\n}\n","import type { Diagnostic } from 'vscode-languageserver'\nimport { DocumentClassName, DocumentClassList } from '../util/state'\n\nexport enum DiagnosticKind {\n  CssConflict = 'cssConflict',\n  InvalidApply = 'invalidApply',\n  InvalidScreen = 'invalidScreen',\n  InvalidVariant = 'invalidVariant',\n  InvalidConfigPath = 'invalidConfigPath',\n  InvalidTailwindDirective = 'invalidTailwindDirective',\n  RecommendedVariantOrder = 'recommendedVariantOrder',\n}\n\nexport type CssConflictDiagnostic = Diagnostic & {\n  code: DiagnosticKind.CssConflict\n  className: DocumentClassName\n  otherClassNames: DocumentClassName[]\n}\n\nexport function isCssConflictDiagnostic(\n  diagnostic: AugmentedDiagnostic\n): diagnostic is CssConflictDiagnostic {\n  return diagnostic.code === DiagnosticKind.CssConflict\n}\n\nexport type InvalidApplyDiagnostic = Diagnostic & {\n  code: DiagnosticKind.InvalidApply\n  className: DocumentClassName\n}\n\nexport function isInvalidApplyDiagnostic(\n  diagnostic: AugmentedDiagnostic\n): diagnostic is InvalidApplyDiagnostic {\n  return diagnostic.code === DiagnosticKind.InvalidApply\n}\n\nexport type InvalidScreenDiagnostic = Diagnostic & {\n  code: DiagnosticKind.InvalidScreen\n  suggestions: string[]\n}\n\nexport function isInvalidScreenDiagnostic(\n  diagnostic: AugmentedDiagnostic\n): diagnostic is InvalidScreenDiagnostic {\n  return diagnostic.code === DiagnosticKind.InvalidScreen\n}\n\nexport type InvalidVariantDiagnostic = Diagnostic & {\n  code: DiagnosticKind.InvalidVariant\n  suggestions: string[]\n}\n\nexport function isInvalidVariantDiagnostic(\n  diagnostic: AugmentedDiagnostic\n): diagnostic is InvalidVariantDiagnostic {\n  return diagnostic.code === DiagnosticKind.InvalidVariant\n}\n\nexport type InvalidConfigPathDiagnostic = Diagnostic & {\n  code: DiagnosticKind.InvalidConfigPath\n  suggestions: string[]\n}\n\nexport function isInvalidConfigPathDiagnostic(\n  diagnostic: AugmentedDiagnostic\n): diagnostic is InvalidConfigPathDiagnostic {\n  return diagnostic.code === DiagnosticKind.InvalidConfigPath\n}\n\nexport type InvalidTailwindDirectiveDiagnostic = Diagnostic & {\n  code: DiagnosticKind.InvalidTailwindDirective\n  suggestions: string[]\n}\n\nexport function isInvalidTailwindDirectiveDiagnostic(\n  diagnostic: AugmentedDiagnostic\n): diagnostic is InvalidTailwindDirectiveDiagnostic {\n  return diagnostic.code === DiagnosticKind.InvalidTailwindDirective\n}\n\nexport type RecommendedVariantOrderDiagnostic = Diagnostic & {\n  code: DiagnosticKind.RecommendedVariantOrder\n  suggestions: string[]\n}\n\nexport function isRecommendedVariantOrderDiagnostic(\n  diagnostic: AugmentedDiagnostic\n): diagnostic is RecommendedVariantOrderDiagnostic {\n  return diagnostic.code === DiagnosticKind.RecommendedVariantOrder\n}\n\nexport type AugmentedDiagnostic =\n  | CssConflictDiagnostic\n  | InvalidApplyDiagnostic\n  | InvalidScreenDiagnostic\n  | InvalidVariantDiagnostic\n  | InvalidConfigPathDiagnostic\n  | InvalidTailwindDirectiveDiagnostic\n  | RecommendedVariantOrderDiagnostic\n","export function joinWithAnd(strings: string[]): string {\n  return strings.reduce((acc, cur, i) => {\n    if (i === 0) {\n      return cur\n    }\n    if (strings.length > 1 && i === strings.length - 1) {\n      return `${acc} and ${cur}`\n    }\n    return `${acc}, ${cur}`\n  }, '')\n}\n","import { State } from './state'\nimport { getClassNameParts } from './getClassNameAtPosition'\nimport removeMeta from './removeMeta'\nimport dlv from 'dlv'\n\nexport function getClassNameDecls(\n  state: State,\n  className: string\n): Record<string, string> | Record<string, string>[] | null {\n  const parts = getClassNameParts(state, className)\n  if (!parts) return null\n\n  const info = dlv(state.classNames.classNames, [...parts, '__info'])\n\n  if (Array.isArray(info)) {\n    return info.map(removeMeta)\n  }\n\n  return removeMeta(info)\n}\n","import { joinWithAnd } from '../util/joinWithAnd'\nimport { State, Settings } from '../util/state'\nimport type { TextDocument, DiagnosticSeverity } from 'vscode-languageserver'\nimport { CssConflictDiagnostic, DiagnosticKind } from './types'\nimport { findClassListsInDocument, getClassNamesInClassList } from '../util/find'\nimport { getClassNameDecls } from '../util/getClassNameDecls'\nimport { getClassNameMeta } from '../util/getClassNameMeta'\nimport { equal } from '../util/array'\nimport * as jit from '../util/jit'\n\nexport async function getCssConflictDiagnostics(\n  state: State,\n  document: TextDocument,\n  settings: Settings\n): Promise<CssConflictDiagnostic[]> {\n  let severity = settings.tailwindCSS.lint.cssConflict\n  if (severity === 'ignore') return []\n\n  let diagnostics: CssConflictDiagnostic[] = []\n  const classLists = await findClassListsInDocument(state, document)\n\n  classLists.forEach((classList) => {\n    const classNames = getClassNamesInClassList(classList)\n\n    classNames.forEach((className, index) => {\n      if (state.jit) {\n        let { rules } = jit.generateRules(state, [className.className])\n        if (rules.length === 0) {\n          return\n        }\n\n        let info: Array<{ context: string[]; properties: string[] }> = rules.map((rule) => {\n          let properties: string[] = []\n          rule.walkDecls(({ prop }) => {\n            properties.push(prop)\n          })\n          let context = jit.getRuleContext(state, rule, className.className)\n          return { context, properties }\n        })\n\n        let otherClassNames = classNames.filter((_className, i) => i !== index)\n\n        let conflictingClassNames = otherClassNames.filter((otherClassName) => {\n          let { rules: otherRules } = jit.generateRules(state, [otherClassName.className])\n          if (otherRules.length !== rules.length) {\n            return false\n          }\n\n          for (let i = 0; i < otherRules.length; i++) {\n            let rule = otherRules[i]\n            let properties: string[] = []\n            rule.walkDecls(({ prop }) => {\n              properties.push(prop)\n            })\n            if (!equal(info[i].properties, properties)) {\n              return false\n            }\n            let context = jit.getRuleContext(state, rule, otherClassName.className)\n            if (!equal(info[i].context, context)) {\n              return false\n            }\n          }\n\n          return true\n        })\n\n        if (conflictingClassNames.length === 0) return\n\n        diagnostics.push({\n          code: DiagnosticKind.CssConflict,\n          className,\n          otherClassNames: conflictingClassNames,\n          range: className.range,\n          severity:\n            severity === 'error'\n              ? 1 /* DiagnosticSeverity.Error */\n              : 2 /* DiagnosticSeverity.Warning */,\n          message: `'${className.className}' applies the same CSS properties as ${joinWithAnd(\n            conflictingClassNames.map(\n              (conflictingClassName) => `'${conflictingClassName.className}'`\n            )\n          )}.`,\n          relatedInformation: conflictingClassNames.map((conflictingClassName) => {\n            return {\n              message: conflictingClassName.className,\n              location: {\n                uri: document.uri,\n                range: conflictingClassName.range,\n              },\n            }\n          }),\n        })\n\n        return\n      }\n\n      let decls = getClassNameDecls(state, className.className)\n      if (!decls) return\n\n      let properties = Object.keys(decls)\n      let meta = getClassNameMeta(state, className.className)\n\n      let otherClassNames = classNames.filter((_className, i) => i !== index)\n\n      let conflictingClassNames = otherClassNames.filter((otherClassName) => {\n        let otherDecls = getClassNameDecls(state, otherClassName.className)\n        if (!otherDecls) return false\n\n        let otherMeta = getClassNameMeta(state, otherClassName.className)\n\n        return (\n          equal(properties, Object.keys(otherDecls)) &&\n          !Array.isArray(meta) &&\n          !Array.isArray(otherMeta) &&\n          equal(meta.context, otherMeta.context) &&\n          equal(meta.pseudo, otherMeta.pseudo) &&\n          meta.scope === otherMeta.scope\n        )\n      })\n\n      if (conflictingClassNames.length === 0) return\n\n      diagnostics.push({\n        code: DiagnosticKind.CssConflict,\n        className,\n        otherClassNames: conflictingClassNames,\n        range: className.range,\n        severity:\n          severity === 'error'\n            ? 1 /* DiagnosticSeverity.Error */\n            : 2 /* DiagnosticSeverity.Warning */,\n        message: `'${className.className}' applies the same CSS ${\n          properties.length === 1 ? 'property' : 'properties'\n        } as ${joinWithAnd(\n          conflictingClassNames.map((conflictingClassName) => `'${conflictingClassName.className}'`)\n        )}.`,\n        relatedInformation: conflictingClassNames.map((conflictingClassName) => {\n          return {\n            message: conflictingClassName.className,\n            location: {\n              uri: document.uri,\n              range: conflictingClassName.range,\n            },\n          }\n        }),\n      })\n    })\n  })\n\n  return diagnostics\n}\n","import { findClassNamesInRange } from '../util/find'\nimport { InvalidApplyDiagnostic, DiagnosticKind } from './types'\nimport { Settings, State } from '../util/state'\nimport type { TextDocument, DiagnosticSeverity } from 'vscode-languageserver'\nimport { validateApply } from '../util/validateApply'\n\nexport async function getInvalidApplyDiagnostics(\n  state: State,\n  document: TextDocument,\n  settings: Settings\n): Promise<InvalidApplyDiagnostic[]> {\n  let severity = settings.tailwindCSS.lint.invalidApply\n  if (severity === 'ignore') return []\n\n  const classNames = await findClassNamesInRange(state, document, undefined, 'css', false)\n\n  let diagnostics: InvalidApplyDiagnostic[] = classNames.map((className) => {\n    let result = validateApply(state, className.className)\n\n    if (result === null || result.isApplyable === true) {\n      return null\n    }\n\n    return {\n      code: DiagnosticKind.InvalidApply,\n      severity:\n        severity === 'error'\n          ? 1 /* DiagnosticSeverity.Error */\n          : 2 /* DiagnosticSeverity.Warning */,\n      range: className.range,\n      message: result.reason,\n      className,\n    }\n  })\n\n  return diagnostics.filter(Boolean)\n}\n","import sift from 'sift-string'\n\nexport function closest(input: string, options: string[]): string | undefined {\n  return options.concat([]).sort((a, b) => sift(input, a) - sift(input, b))[0]\n}\n","import type { Range } from 'vscode-languageserver'\n\nexport function absoluteRange(range: Range, reference?: Range) {\n  return {\n    start: {\n      line: (reference?.start.line || 0) + range.start.line,\n      character:\n        (range.end.line === 0 ? reference?.start.character || 0 : 0) +\n        range.start.character,\n    },\n    end: {\n      line: (reference?.start.line || 0) + range.end.line,\n      character:\n        (range.end.line === 0 ? reference?.start.character || 0 : 0) +\n        range.end.character,\n    },\n  }\n}\n","import { State, Settings } from '../util/state'\nimport type { TextDocument, Range, DiagnosticSeverity } from 'vscode-languageserver'\nimport { InvalidScreenDiagnostic, DiagnosticKind } from './types'\nimport { isCssDoc } from '../util/css'\nimport { getLanguageBoundaries } from '../util/getLanguageBoundaries'\nimport { findAll, indexToPosition } from '../util/find'\nimport { closest } from '../util/closest'\nimport { absoluteRange } from '../util/absoluteRange'\nimport dlv from 'dlv'\nimport { getTextWithoutComments } from '../util/doc'\n\nexport function getInvalidScreenDiagnostics(\n  state: State,\n  document: TextDocument,\n  settings: Settings\n): InvalidScreenDiagnostic[] {\n  let severity = settings.tailwindCSS.lint.invalidScreen\n  if (severity === 'ignore') return []\n\n  let diagnostics: InvalidScreenDiagnostic[] = []\n  let ranges: Range[] = []\n\n  if (isCssDoc(state, document)) {\n    ranges.push(undefined)\n  } else {\n    let boundaries = getLanguageBoundaries(state, document)\n    if (!boundaries) return []\n    ranges.push(...boundaries.filter((b) => b.type === 'css').map(({ range }) => range))\n  }\n\n  ranges.forEach((range) => {\n    let text = getTextWithoutComments(document, 'css', range)\n    let matches = findAll(/(?:\\s|^)@screen\\s+(?<screen>[^\\s{]+)/g, text)\n\n    matches.forEach((match) => {\n      if (state.screens.includes(match.groups.screen)) {\n        return null\n      }\n\n      let message = `The screen '${match.groups.screen}' does not exist in your theme config.`\n      let suggestions: string[] = []\n      let suggestion = closest(match.groups.screen, state.screens)\n\n      if (suggestion) {\n        suggestions.push(suggestion)\n        message += ` Did you mean '${suggestion}'?`\n      }\n\n      diagnostics.push({\n        code: DiagnosticKind.InvalidScreen,\n        range: absoluteRange(\n          {\n            start: indexToPosition(\n              text,\n              match.index + match[0].length - match.groups.screen.length\n            ),\n            end: indexToPosition(text, match.index + match[0].length),\n          },\n          range\n        ),\n        severity:\n          severity === 'error'\n            ? 1 /* DiagnosticSeverity.Error */\n            : 2 /* DiagnosticSeverity.Warning */,\n        message,\n        suggestions,\n      })\n    })\n  })\n\n  return diagnostics\n}\n","import { State, Settings } from '../util/state'\nimport type { TextDocument, Range, DiagnosticSeverity } from 'vscode-languageserver'\nimport { InvalidVariantDiagnostic, DiagnosticKind } from './types'\nimport { isCssDoc } from '../util/css'\nimport { getLanguageBoundaries } from '../util/getLanguageBoundaries'\nimport { findAll, indexToPosition } from '../util/find'\nimport { closest } from '../util/closest'\nimport { absoluteRange } from '../util/absoluteRange'\nimport * as semver from '../util/semver'\nimport { getTextWithoutComments } from '../util/doc'\n\nexport function getInvalidVariantDiagnostics(\n  state: State,\n  document: TextDocument,\n  settings: Settings\n): InvalidVariantDiagnostic[] {\n  let severity = settings.tailwindCSS.lint.invalidVariant\n  if (severity === 'ignore') return []\n\n  if (semver.gte(state.version, '2.99.0')) {\n    return []\n  }\n\n  let diagnostics: InvalidVariantDiagnostic[] = []\n  let ranges: Range[] = []\n\n  if (isCssDoc(state, document)) {\n    ranges.push(undefined)\n  } else {\n    let boundaries = getLanguageBoundaries(state, document)\n    if (!boundaries) return []\n    ranges.push(...boundaries.filter((b) => b.type === 'css').map(({ range }) => range))\n  }\n\n  let possibleVariants = state.variants.flatMap((variant) => {\n    if (variant.values.length) {\n      return variant.values.map((value) =>\n        value === 'DEFAULT' ? variant.name : `${variant.name}${variant.hasDash ? '-' : ''}${value}`\n      )\n    }\n    return [variant.name]\n  })\n  if (state.jit) {\n    possibleVariants.unshift('responsive')\n    possibleVariants = possibleVariants.filter((v) => !state.screens.includes(v))\n  }\n\n  ranges.forEach((range) => {\n    let text = getTextWithoutComments(document, 'css', range)\n    let matches = findAll(/(?:\\s|^)@variants\\s+(?<variants>[^{]+)/g, text)\n\n    matches.forEach((match) => {\n      let variants = match.groups.variants.split(/(\\s*,\\s*)/)\n      let listStartIndex = match.index + match[0].length - match.groups.variants.length\n\n      for (let i = 0; i < variants.length; i += 2) {\n        let variant = variants[i].trim()\n        if (possibleVariants.includes(variant)) {\n          continue\n        }\n\n        let message = `The variant '${variant}' does not exist.`\n        let suggestions: string[] = []\n        let suggestion = closest(variant, possibleVariants)\n\n        if (suggestion) {\n          suggestions.push(suggestion)\n          message += ` Did you mean '${suggestion}'?`\n        }\n\n        let variantStartIndex = listStartIndex + variants.slice(0, i).join('').length\n\n        diagnostics.push({\n          code: DiagnosticKind.InvalidVariant,\n          range: absoluteRange(\n            {\n              start: indexToPosition(text, variantStartIndex),\n              end: indexToPosition(text, variantStartIndex + variant.length),\n            },\n            range\n          ),\n          severity:\n            severity === 'error'\n              ? 1 /* DiagnosticSeverity.Error */\n              : 2 /* DiagnosticSeverity.Warning */,\n          message,\n          suggestions,\n        })\n      }\n    })\n  })\n\n  return diagnostics\n}\n","// https://github.com/lodash/lodash/blob/4.17.15/lodash.js#L6735-L6744\nlet rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g\nlet reEscapeChar = /\\\\(\\\\)?/g\n\nexport function stringToPath(string: string): string[] {\n  let result: string[] = []\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('')\n  }\n  // @ts-ignore\n  string.replace(rePropName, (match, number, quote, subString) => {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : number || match)\n  })\n  return result\n}\n","import { State, Settings } from '../util/state'\nimport type { TextDocument } from 'vscode-languageserver'\nimport { InvalidConfigPathDiagnostic, DiagnosticKind } from './types'\nimport { findHelperFunctionsInDocument } from '../util/find'\nimport { stringToPath } from '../util/stringToPath'\nimport isObject from '../util/isObject'\nimport { closest } from '../util/closest'\nimport { combinations } from '../util/combinations'\nimport dlv from 'dlv'\n\nfunction pathToString(path: string | string[]): string {\n  if (typeof path === 'string') return path\n  return path.reduce((acc, cur, i) => {\n    if (i === 0) return cur\n    if (cur.includes('.')) return `${acc}[${cur}]`\n    return `${acc}.${cur}`\n  }, '')\n}\n\nexport function validateConfigPath(\n  state: State,\n  path: string | string[],\n  base: string[] = []\n): { isValid: true; value: any } | { isValid: false; reason: string; suggestions: string[] } {\n  let keys = Array.isArray(path) ? path : stringToPath(path)\n  let value = dlv(state.config, [...base, ...keys])\n  let suggestions: string[] = []\n\n  function findAlternativePath(): string[] {\n    let points = combinations('123456789'.substr(0, keys.length - 1)).map((x) =>\n      x.split('').map((x) => parseInt(x, 10))\n    )\n\n    let possibilities: string[][] = points\n      .map((p) => {\n        let result = []\n        let i = 0\n        p.forEach((x) => {\n          result.push(keys.slice(i, x).join('.'))\n          i = x\n        })\n        result.push(keys.slice(i).join('.'))\n        return result\n      })\n      .slice(1) // skip original path\n\n    return possibilities.find((possibility) => validateConfigPath(state, possibility, base).isValid)\n  }\n\n  if (typeof value === 'undefined') {\n    let reason = `'${pathToString(path)}' does not exist in your theme config.`\n    let parentPath = [...base, ...keys.slice(0, keys.length - 1)]\n    let parentValue = dlv(state.config, parentPath)\n\n    if (isObject(parentValue)) {\n      let closestValidKey = closest(\n        keys[keys.length - 1],\n        Object.keys(parentValue).filter(\n          (key) => validateConfigPath(state, [...parentPath, key]).isValid\n        )\n      )\n      if (closestValidKey) {\n        suggestions.push(pathToString([...keys.slice(0, keys.length - 1), closestValidKey]))\n        reason += ` Did you mean '${suggestions[0]}'?`\n      }\n    } else {\n      let altPath = findAlternativePath()\n      if (altPath) {\n        return {\n          isValid: false,\n          reason: `${reason} Did you mean '${pathToString(altPath)}'?`,\n          suggestions: [pathToString(altPath)],\n        }\n      }\n    }\n\n    return {\n      isValid: false,\n      reason,\n      suggestions,\n    }\n  }\n\n  if (\n    !(\n      typeof value === 'string' ||\n      typeof value === 'number' ||\n      value instanceof String ||\n      value instanceof Number ||\n      Array.isArray(value) ||\n      typeof value === 'function'\n    )\n  ) {\n    let reason = `'${pathToString(path)}' was found but does not resolve to a valid theme value.`\n\n    if (isObject(value)) {\n      let validKeys = Object.keys(value).filter(\n        (key) => validateConfigPath(state, [...keys, key], base).isValid\n      )\n      if (validKeys.length) {\n        suggestions.push(...validKeys.map((validKey) => pathToString([...keys, validKey])))\n        reason += ` Did you mean something like '${suggestions[0]}'?`\n      }\n    }\n    return {\n      isValid: false,\n      reason,\n      suggestions,\n    }\n  }\n\n  // The value resolves successfully, but we need to check that there\n  // wasn't any funny business. If you have a theme object:\n  // { msg: 'hello' } and do theme('msg.0')\n  // this will resolve to 'h', which is probably not intentional, so we\n  // check that all of the keys are object or array keys (i.e. not string\n  // indexes)\n  let isValid = true\n  for (let i = keys.length - 1; i >= 0; i--) {\n    let key = keys[i]\n    let parentValue = dlv(state.config, [...base, ...keys.slice(0, i)])\n    if (/^[0-9]+$/.test(key)) {\n      if (!isObject(parentValue) && !Array.isArray(parentValue)) {\n        isValid = false\n        break\n      }\n    } else if (!isObject(parentValue)) {\n      isValid = false\n      break\n    }\n  }\n  if (!isValid) {\n    let reason = `'${pathToString(path)}' does not exist in your theme config.`\n\n    let altPath = findAlternativePath()\n    if (altPath) {\n      return {\n        isValid: false,\n        reason: `${reason} Did you mean '${pathToString(altPath)}'?`,\n        suggestions: [pathToString(altPath)],\n      }\n    }\n\n    return {\n      isValid: false,\n      reason,\n      suggestions: [],\n    }\n  }\n\n  return {\n    isValid: true,\n    value,\n  }\n}\n\nexport function getInvalidConfigPathDiagnostics(\n  state: State,\n  document: TextDocument,\n  settings: Settings\n): InvalidConfigPathDiagnostic[] {\n  let severity = settings.tailwindCSS.lint.invalidConfigPath\n  if (severity === 'ignore') return []\n\n  let diagnostics: InvalidConfigPathDiagnostic[] = []\n\n  findHelperFunctionsInDocument(state, document).forEach((helperFn) => {\n    let base = helperFn.helper === 'theme' ? ['theme'] : []\n    let result = validateConfigPath(state, helperFn.path, base)\n\n    if (result.isValid === true) {\n      return\n    }\n\n    diagnostics.push({\n      code: DiagnosticKind.InvalidConfigPath,\n      range: helperFn.ranges.path,\n      severity:\n        severity === 'error'\n          ? 1 /* DiagnosticSeverity.Error */\n          : 2 /* DiagnosticSeverity.Warning */,\n      message: result.reason,\n      suggestions: result.suggestions,\n    })\n  })\n\n  return diagnostics\n}\n","import { State, Settings } from '../util/state'\nimport type { TextDocument, Range, DiagnosticSeverity } from 'vscode-languageserver'\nimport { InvalidTailwindDirectiveDiagnostic, DiagnosticKind } from './types'\nimport { isCssDoc } from '../util/css'\nimport { getLanguageBoundaries } from '../util/getLanguageBoundaries'\nimport { findAll, indexToPosition } from '../util/find'\nimport * as semver from '../util/semver'\nimport { closest } from '../util/closest'\nimport { absoluteRange } from '../util/absoluteRange'\nimport { getTextWithoutComments } from '../util/doc'\n\nexport function getInvalidTailwindDirectiveDiagnostics(\n  state: State,\n  document: TextDocument,\n  settings: Settings\n): InvalidTailwindDirectiveDiagnostic[] {\n  let severity = settings.tailwindCSS.lint.invalidTailwindDirective\n  if (severity === 'ignore') return []\n\n  let diagnostics: InvalidTailwindDirectiveDiagnostic[] = []\n  let ranges: Range[] = []\n\n  if (isCssDoc(state, document)) {\n    ranges.push(undefined)\n  } else {\n    let boundaries = getLanguageBoundaries(state, document)\n    if (!boundaries) return []\n    ranges.push(...boundaries.filter((b) => b.type === 'css').map(({ range }) => range))\n  }\n\n  let notSemicolonLanguages = ['sass', 'sugarss', 'stylus']\n  let regex: RegExp\n  if (\n    notSemicolonLanguages.includes(document.languageId) ||\n    (state.editor &&\n      notSemicolonLanguages.includes(state.editor.userLanguages[document.languageId]))\n  ) {\n    regex = /(?:\\s|^)@tailwind\\s+(?<value>[^\\r\\n]+)/g\n  } else {\n    regex = /(?:\\s|^)@tailwind\\s+(?<value>[^;]+)/g\n  }\n\n  let hasVariantsDirective = state.jit && semver.gte(state.version, '2.1.99')\n\n  ranges.forEach((range) => {\n    let text = getTextWithoutComments(document, 'css', range)\n    let matches = findAll(regex, text)\n\n    let valid = [\n      'utilities',\n      'components',\n      'screens',\n      semver.gte(state.version, '1.0.0-beta.1') ? 'base' : 'preflight',\n      hasVariantsDirective && 'variants',\n    ].filter(Boolean)\n\n    let suggestable = valid\n\n    if (hasVariantsDirective) {\n      // Don't suggest `screens`, because it's deprecated\n      suggestable = suggestable.filter((value) => value !== 'screens')\n    }\n\n    matches.forEach((match) => {\n      if (valid.includes(match.groups.value)) {\n        return null\n      }\n\n      let message = `'${match.groups.value}' is not a valid value.`\n      let suggestions: string[] = []\n\n      if (match.groups.value === 'preflight') {\n        suggestions.push('base')\n        message += ` Did you mean 'base'?`\n      } else {\n        let suggestion = closest(match.groups.value, suggestable)\n        if (suggestion) {\n          suggestions.push(suggestion)\n          message += ` Did you mean '${suggestion}'?`\n        }\n      }\n\n      diagnostics.push({\n        code: DiagnosticKind.InvalidTailwindDirective,\n        range: absoluteRange(\n          {\n            start: indexToPosition(text, match.index + match[0].length - match.groups.value.length),\n            end: indexToPosition(text, match.index + match[0].length),\n          },\n          range\n        ),\n        severity:\n          severity === 'error'\n            ? 1 /* DiagnosticSeverity.Error */\n            : 2 /* DiagnosticSeverity.Warning */,\n        message,\n        suggestions,\n      })\n    })\n  })\n\n  return diagnostics\n}\n","import { State, Settings } from '../util/state'\nimport type { TextDocument } from 'vscode-languageserver'\nimport { RecommendedVariantOrderDiagnostic, DiagnosticKind } from './types'\nimport { findClassListsInDocument, getClassNamesInClassList } from '../util/find'\nimport * as jit from '../util/jit'\nimport { getVariantsFromClassName } from '../util/getVariantsFromClassName'\nimport { equalExact } from '../util/array'\nimport * as semver from '../util/semver'\n\nexport async function getRecommendedVariantOrderDiagnostics(\n  state: State,\n  document: TextDocument,\n  settings: Settings\n): Promise<RecommendedVariantOrderDiagnostic[]> {\n  if (!state.jit) return []\n\n  if (semver.gte(state.version, '2.99.0')) return []\n\n  let severity = settings.tailwindCSS.lint.recommendedVariantOrder\n  if (severity === 'ignore') return []\n\n  let diagnostics: RecommendedVariantOrderDiagnostic[] = []\n  const classLists = await findClassListsInDocument(state, document)\n\n  classLists.forEach((classList) => {\n    const classNames = getClassNamesInClassList(classList)\n    classNames.forEach((className) => {\n      let { rules } = jit.generateRules(state, [className.className])\n      if (rules.length === 0) {\n        return\n      }\n\n      let { variants, offset } = getVariantsFromClassName(state, className.className)\n      let sortedVariants = [...variants].sort((a, b) =>\n        jit.bigSign(state.jitContext.variantOrder.get(b) - state.jitContext.variantOrder.get(a))\n      )\n\n      if (!equalExact(variants, sortedVariants)) {\n        diagnostics.push({\n          code: DiagnosticKind.RecommendedVariantOrder,\n          suggestions: [\n            [...sortedVariants, className.className.substr(offset)].join(state.separator),\n          ],\n          range: className.range,\n          severity:\n            severity === 'error'\n              ? 1 /* DiagnosticSeverity.Error */\n              : 2 /* DiagnosticSeverity.Warning */,\n          message:\n            'Variants are not in the recommended order, which may cause unexpected CSS output.',\n        })\n      }\n    })\n  })\n\n  return diagnostics\n}\n","import type { TextDocument } from 'vscode-languageserver'\nimport { State } from '../util/state'\nimport { DiagnosticKind, AugmentedDiagnostic } from './types'\nimport { getCssConflictDiagnostics } from './getCssConflictDiagnostics'\nimport { getInvalidApplyDiagnostics } from './getInvalidApplyDiagnostics'\nimport { getInvalidScreenDiagnostics } from './getInvalidScreenDiagnostics'\nimport { getInvalidVariantDiagnostics } from './getInvalidVariantDiagnostics'\nimport { getInvalidConfigPathDiagnostics } from './getInvalidConfigPathDiagnostics'\nimport { getInvalidTailwindDirectiveDiagnostics } from './getInvalidTailwindDirectiveDiagnostics'\nimport { getRecommendedVariantOrderDiagnostics } from './getRecommendedVariantOrderDiagnostics'\n\nexport async function doValidate(\n  state: State,\n  document: TextDocument,\n  only: DiagnosticKind[] = [\n    DiagnosticKind.CssConflict,\n    DiagnosticKind.InvalidApply,\n    DiagnosticKind.InvalidScreen,\n    DiagnosticKind.InvalidVariant,\n    DiagnosticKind.InvalidConfigPath,\n    DiagnosticKind.InvalidTailwindDirective,\n    DiagnosticKind.RecommendedVariantOrder,\n  ]\n): Promise<AugmentedDiagnostic[]> {\n  const settings = await state.editor.getConfiguration(document.uri)\n\n  return settings.tailwindCSS.validate\n    ? [\n        ...(only.includes(DiagnosticKind.CssConflict)\n          ? await getCssConflictDiagnostics(state, document, settings)\n          : []),\n        ...(only.includes(DiagnosticKind.InvalidApply)\n          ? await getInvalidApplyDiagnostics(state, document, settings)\n          : []),\n        ...(only.includes(DiagnosticKind.InvalidScreen)\n          ? getInvalidScreenDiagnostics(state, document, settings)\n          : []),\n        ...(only.includes(DiagnosticKind.InvalidVariant)\n          ? getInvalidVariantDiagnostics(state, document, settings)\n          : []),\n        ...(only.includes(DiagnosticKind.InvalidConfigPath)\n          ? getInvalidConfigPathDiagnostics(state, document, settings)\n          : []),\n        ...(only.includes(DiagnosticKind.InvalidTailwindDirective)\n          ? getInvalidTailwindDirectiveDiagnostics(state, document, settings)\n          : []),\n        ...(only.includes(DiagnosticKind.RecommendedVariantOrder)\n          ? await getRecommendedVariantOrderDiagnostics(state, document, settings)\n          : []),\n      ]\n    : []\n}\n","import { State } from './util/state'\nimport type { Hover, TextDocument, Position } from 'vscode-languageserver'\nimport { stringifyCss, stringifyConfigValue } from './util/stringify'\nimport dlv from 'dlv'\nimport { isCssContext } from './util/css'\nimport { findClassNameAtPosition, findHelperFunctionsInRange } from './util/find'\nimport { validateApply } from './util/validateApply'\nimport { getClassNameParts } from './util/getClassNameAtPosition'\nimport * as jit from './util/jit'\nimport { validateConfigPath } from './diagnostics/getInvalidConfigPathDiagnostics'\nimport { isWithinRange } from './util/isWithinRange'\n\nexport async function doHover(\n  state: State,\n  document: TextDocument,\n  position: Position\n): Promise<Hover> {\n  return (\n    (await provideClassNameHover(state, document, position)) ||\n    provideCssHelperHover(state, document, position)\n  )\n}\n\nfunction provideCssHelperHover(state: State, document: TextDocument, position: Position): Hover {\n  if (!isCssContext(state, document, position)) {\n    return null\n  }\n\n  let helperFns = findHelperFunctionsInRange(document, {\n    start: { line: position.line, character: 0 },\n    end: { line: position.line + 1, character: 0 },\n  })\n\n  for (let helperFn of helperFns) {\n    if (isWithinRange(position, helperFn.ranges.path)) {\n      let validated = validateConfigPath(\n        state,\n        helperFn.path,\n        helperFn.helper === 'theme' ? ['theme'] : []\n      )\n      let value = validated.isValid ? stringifyConfigValue(validated.value) : null\n      if (value === null) {\n        return null\n      }\n      return {\n        contents: { kind: 'markdown', value: ['```plaintext', value, '```'].join('\\n') },\n        range: helperFn.ranges.path,\n      }\n    }\n  }\n\n  return null\n}\n\nasync function provideClassNameHover(\n  state: State,\n  document: TextDocument,\n  position: Position\n): Promise<Hover> {\n  let className = await findClassNameAtPosition(state, document, position)\n  if (className === null) return null\n\n  if (state.jit) {\n    let { root, rules } = jit.generateRules(state, [className.className])\n\n    if (rules.length === 0) {\n      return null\n    }\n\n    return {\n      contents: {\n        language: 'css',\n        value: await jit.stringifyRoot(state, root, document.uri),\n      },\n      range: className.range,\n    }\n  }\n\n  const parts = getClassNameParts(state, className.className)\n  if (!parts) return null\n\n  if (isCssContext(state, document, position)) {\n    let validated = validateApply(state, parts)\n    if (validated === null || validated.isApplyable === false) {\n      return null\n    }\n  }\n\n  const settings = await state.editor.getConfiguration(document.uri)\n\n  const css = stringifyCss(\n    className.className,\n    dlv(state.classNames.classNames, [...parts, '__info']),\n    settings\n  )\n\n  if (!css) return null\n\n  return {\n    contents: {\n      language: 'css',\n      value: css,\n    },\n    range: className.range,\n  }\n}\n","import { Range } from 'vscode-languageserver'\nimport lineColumn from 'line-column'\nimport { ensureArray } from './array'\n\nexport function removeRangesFromString(\n  str: string,\n  rangeOrRanges: Range | Range[]\n): string {\n  let ranges = ensureArray(rangeOrRanges)\n  let finder = lineColumn(str + '\\n', { origin: 0 })\n  let indexRanges: { start: number; end: number }[] = []\n\n  ranges.forEach((range) => {\n    let start = finder.toIndex(range.start.line, range.start.character)\n    let end = finder.toIndex(range.end.line, range.end.character)\n    for (let i = start - 1; i >= 0; i--) {\n      if (/\\s/.test(str.charAt(i))) {\n        start = i\n      } else {\n        break\n      }\n    }\n    indexRanges.push({ start, end })\n  })\n\n  indexRanges.sort((a, b) => a.start - b.start)\n\n  let result = ''\n  let i = 0\n\n  indexRanges.forEach((indexRange) => {\n    result += str.substring(i, indexRange.start)\n    i = indexRange.end\n  })\n\n  result += str.substring(i)\n\n  return result.trim()\n}\n","import { State } from '../util/state'\nimport type {\n  CodeActionParams,\n  CodeAction,\n} from 'vscode-languageserver'\nimport { CssConflictDiagnostic } from '../diagnostics/types'\nimport { joinWithAnd } from '../util/joinWithAnd'\nimport { removeRangesFromString } from '../util/removeRangesFromString'\n\nexport async function provideCssConflictCodeActions(\n  _state: State,\n  params: CodeActionParams,\n  diagnostic: CssConflictDiagnostic\n): Promise<CodeAction[]> {\n  return [\n    {\n      title: `Delete ${joinWithAnd(\n        diagnostic.otherClassNames.map(\n          (otherClassName) => `'${otherClassName.className}'`\n        )\n      )}`,\n      kind: 'quickfix', // CodeActionKind.QuickFix,\n      diagnostics: [diagnostic],\n      edit: {\n        changes: {\n          [params.textDocument.uri]: [\n            {\n              range: diagnostic.className.classList.range,\n              newText: removeRangesFromString(\n                diagnostic.className.classList.classList,\n                diagnostic.otherClassNames.map(\n                  (otherClassName) => otherClassName.relativeRange\n                )\n              ),\n            },\n          ],\n        },\n      },\n    },\n  ]\n}\n","/*\nThis is a modified version of the postcss-js 'parse' function which accepts the\npostcss module as an argument. License below:\n\nThe MIT License (MIT)\n\nCopyright 2015 Andrey Sitnik <andrey@sitnik.ru>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar IMPORTANT = /\\s*!important\\s*$/i\n\nvar unitless = {\n  'box-flex': true,\n  'box-flex-group': true,\n  'column-count': true,\n  flex: true,\n  'flex-grow': true,\n  'flex-positive': true,\n  'flex-shrink': true,\n  'flex-negative': true,\n  'font-weight': true,\n  'line-clamp': true,\n  'line-height': true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  'tab-size': true,\n  widows: true,\n  'z-index': true,\n  zoom: true,\n  'fill-opacity': true,\n  'stroke-dashoffset': true,\n  'stroke-opacity': true,\n  'stroke-width': true,\n}\n\nfunction dashify(str) {\n  return str\n    .replace(/([A-Z])/g, '-$1')\n    .replace(/^ms-/, '-ms-')\n    .toLowerCase()\n}\n\nfunction decl(parent, name, value, postcss) {\n  if (value === false || value === null) return\n\n  name = dashify(name)\n  if (typeof value === 'number') {\n    if (value === 0 || unitless[name]) {\n      value = value.toString()\n    } else {\n      value = value.toString() + 'px'\n    }\n  }\n\n  if (name === 'css-float') name = 'float'\n\n  if (IMPORTANT.test(value)) {\n    value = value.replace(IMPORTANT, '')\n    parent.push(postcss.decl({ prop: name, value: value, important: true }))\n  } else {\n    parent.push(postcss.decl({ prop: name, value: value }))\n  }\n}\n\nfunction atRule(parent, parts, value, postcss) {\n  var node = postcss.atRule({ name: parts[1], params: parts[3] || '' })\n  if (typeof value === 'object') {\n    node.nodes = []\n    parse(value, node, postcss)\n  }\n  parent.push(node)\n}\n\nfunction parse(obj, parent, postcss) {\n  var name, value, node, i\n  for (name in obj) {\n    if (obj.hasOwnProperty(name)) {\n      value = obj[name]\n      if (value === null || typeof value === 'undefined') {\n        continue\n      } else if (name[0] === '@') {\n        var parts = name.match(/@([^\\s]+)(\\s+([\\w\\W]*)\\s*)?/)\n        if (Array.isArray(value)) {\n          for (i = 0; i < value.length; i++) {\n            atRule(parent, parts, value[i], postcss)\n          }\n        } else {\n          atRule(parent, parts, value, postcss)\n        }\n      } else if (Array.isArray(value)) {\n        for (i = 0; i < value.length; i++) {\n          decl(parent, name, value[i], postcss)\n        }\n      } else if (typeof value === 'object') {\n        node = postcss.rule({ selector: name })\n        parse(value, node, postcss)\n        parent.push(node)\n      } else {\n        decl(parent, name, value, postcss)\n      }\n    }\n  }\n}\n\nexport function cssObjToAst(obj, postcss) {\n  var root = postcss.root()\n  parse(obj, root, postcss)\n  return root\n}\n","import type { CodeAction, CodeActionParams, TextEdit, Range } from 'vscode-languageserver'\nimport { State } from '../util/state'\nimport { InvalidApplyDiagnostic } from '../diagnostics/types'\nimport { isCssDoc } from '../util/css'\nimport { getLanguageBoundaries } from '../util/getLanguageBoundaries'\nimport { getClassNameMeta } from '../util/getClassNameMeta'\nimport { getClassNameParts } from '../util/getClassNameAtPosition'\nimport { validateApply } from '../util/validateApply'\nimport { isWithinRange } from '../util/isWithinRange'\nimport dlv from 'dlv'\nimport type { Root, Source } from 'postcss'\nimport { absoluteRange } from '../util/absoluteRange'\nimport { removeRangesFromString } from '../util/removeRangesFromString'\nimport detectIndent from 'detect-indent'\nimport isObject from '../util/isObject'\nimport { cssObjToAst } from '../util/cssObjToAst'\nimport { dset } from 'dset'\nimport selectorParser from 'postcss-selector-parser'\nimport { flatten } from '../util/array'\nimport { getTextWithoutComments } from '../util/doc'\n\nexport async function provideInvalidApplyCodeActions(\n  state: State,\n  params: CodeActionParams,\n  diagnostic: InvalidApplyDiagnostic\n): Promise<CodeAction[]> {\n  let document = state.editor.documents.get(params.textDocument.uri)\n  if (!document) return []\n  let documentText = getTextWithoutComments(document, 'css')\n  let cssRange: Range\n  let cssText = documentText\n  const { postcss } = state.modules\n  let changes: TextEdit[] = []\n\n  let totalClassNamesInClassList = diagnostic.className.classList.classList.split(/\\s+/).length\n\n  let className = diagnostic.className.className\n  let classNameParts = getClassNameParts(state, className)\n  let classNameInfo = dlv(state.classNames.classNames, classNameParts)\n\n  if (Array.isArray(classNameInfo)) {\n    return []\n  }\n\n  if (!isCssDoc(state, document)) {\n    let languageBoundaries = getLanguageBoundaries(state, document)\n    if (!languageBoundaries) return []\n    cssRange = languageBoundaries\n      .filter((b) => b.type === 'css')\n      .find(({ range }) => isWithinRange(diagnostic.range.start, range))?.range\n    if (!cssRange) return []\n    cssText = getTextWithoutComments(document, 'css', cssRange)\n  }\n\n  try {\n    await postcss\n      .module([\n        // TODO: use plain function?\n        // @ts-ignore\n        postcss.module.plugin('', (_options = {}) => {\n          return (root: Root) => {\n            root.walkRules((rule) => {\n              if (changes.length) return false\n\n              rule.walkAtRules('apply', (atRule) => {\n                let atRuleRange = postcssSourceToRange(atRule.source)\n                if (cssRange) {\n                  atRuleRange = absoluteRange(atRuleRange, cssRange)\n                }\n\n                if (!isWithinRange(diagnostic.range.start, atRuleRange)) return undefined // true\n\n                let ast = classNameToAst(\n                  state,\n                  classNameParts,\n                  rule.selector,\n                  diagnostic.className.classList.important\n                )\n\n                if (!ast) return false\n\n                rule.after(ast.nodes)\n                let insertedRule = rule.next()\n                if (!insertedRule) return false\n\n                if (totalClassNamesInClassList === 1) {\n                  atRule.remove()\n                } else {\n                  changes.push({\n                    range: diagnostic.className.classList.range,\n                    newText: removeRangesFromString(\n                      diagnostic.className.classList.classList,\n                      diagnostic.className.relativeRange\n                    ),\n                  })\n                }\n\n                let ruleRange = postcssSourceToRange(rule.source)\n                if (cssRange) {\n                  ruleRange = absoluteRange(ruleRange, cssRange)\n                }\n\n                let outputIndent: string\n                let documentIndent = detectIndent(cssText)\n\n                changes.push({\n                  range: ruleRange,\n                  newText:\n                    rule.toString() +\n                    (insertedRule.raws.before || '\\n\\n') +\n                    insertedRule\n                      .toString()\n                      .replace(/\\n\\s*\\n/g, '\\n')\n                      .replace(/(@apply [^;\\n]+)$/gm, '$1;')\n                      .replace(/([^\\s^]){$/gm, '$1 {')\n                      .replace(/^\\s+/gm, (m: string) => {\n                        if (typeof outputIndent === 'undefined') outputIndent = m\n                        return m.replace(new RegExp(outputIndent, 'g'), documentIndent.indent)\n                      })\n                      .replace(/^(\\s+)(.*?[^{}]\\n)([^\\s}])/gm, '$1$2$1$3'),\n                })\n\n                return false\n              })\n\n              return undefined // true\n            })\n          }\n        }),\n      ])\n      .process(cssText, { from: undefined })\n  } catch (_) {\n    return []\n  }\n\n  if (!changes.length) {\n    return []\n  }\n\n  return [\n    {\n      title: 'Extract to new rule',\n      kind: 'quickfix', // CodeActionKind.QuickFix,\n      diagnostics: [diagnostic],\n      edit: {\n        changes: {\n          [params.textDocument.uri]: changes,\n        },\n      },\n    },\n  ]\n}\n\nfunction postcssSourceToRange(source: Source): Range {\n  return {\n    start: {\n      line: source.start.line - 1,\n      character: source.start.column - 1,\n    },\n    end: {\n      line: source.end.line - 1,\n      character: source.end.column,\n    },\n  }\n}\n\nfunction classNameToAst(\n  state: State,\n  classNameParts: string[],\n  selector: string,\n  important: boolean = false\n) {\n  const baseClassName = classNameParts[classNameParts.length - 1]\n  const validatedBaseClassName = validateApply(state, [baseClassName])\n  if (validatedBaseClassName === null || validatedBaseClassName.isApplyable === false) {\n    return null\n  }\n  const meta = getClassNameMeta(state, classNameParts)\n  if (Array.isArray(meta)) return null\n  let context = meta.context\n  let pseudo = meta.pseudo\n  const globalContexts = state.classNames.context\n  const path = []\n\n  for (let i = 0; i < classNameParts.length - 1; i++) {\n    let part = classNameParts[i]\n    let common = globalContexts[part]\n    if (!common) return null\n    if (state.screens.includes(part)) {\n      path.push(`@screen ${part}`)\n      context = context.filter((con) => !common.includes(con))\n    }\n  }\n\n  path.push(...context)\n\n  let obj = {}\n  for (let i = 1; i <= path.length; i++) {\n    dset(obj, path.slice(0, i), {})\n  }\n\n  selector = appendPseudosToSelector(selector, pseudo)\n  if (selector === null) return null\n\n  let rule = {\n    [selector]: {\n      [`@apply ${baseClassName}${important ? ' !important' : ''}`]: '',\n    },\n  }\n  if (path.length) {\n    dset(obj, path, rule)\n  } else {\n    obj = rule\n  }\n\n  return cssObjToAst(obj, state.modules.postcss)\n}\n\nfunction appendPseudosToSelector(selector: string, pseudos: string[]): string | null {\n  if (pseudos.length === 0) return selector\n\n  let canTransform = true\n\n  let transformedSelector = selectorParser((selectors) => {\n    flatten(selectors.split((_) => true)).forEach((sel) => {\n      // @ts-ignore\n      for (let i = sel.nodes.length - 1; i >= 0; i--) {\n        // @ts-ignore\n        if (sel.nodes[i].type !== 'pseudo') {\n          break\n          // @ts-ignore\n        } else if (pseudos.includes(sel.nodes[i].value)) {\n          canTransform = false\n          break\n        }\n      }\n      if (canTransform) {\n        pseudos.forEach((p) => {\n          // @ts-ignore\n          sel.append(selectorParser.pseudo({ value: p }))\n        })\n      }\n    })\n  }).processSync(selector)\n\n  if (!canTransform) return null\n\n  return transformedSelector\n}\n","import { State } from '../util/state'\nimport type { CodeActionParams, CodeAction } from 'vscode-languageserver'\nimport {\n  InvalidConfigPathDiagnostic,\n  InvalidTailwindDirectiveDiagnostic,\n  InvalidScreenDiagnostic,\n  InvalidVariantDiagnostic,\n  RecommendedVariantOrderDiagnostic,\n} from '../diagnostics/types'\n\nexport function provideSuggestionCodeActions(\n  _state: State,\n  params: CodeActionParams,\n  diagnostic:\n    | InvalidConfigPathDiagnostic\n    | InvalidTailwindDirectiveDiagnostic\n    | InvalidScreenDiagnostic\n    | InvalidVariantDiagnostic\n    | RecommendedVariantOrderDiagnostic\n): CodeAction[] {\n  return diagnostic.suggestions.map((suggestion) => ({\n    title: `Replace with '${suggestion}'`,\n    kind: 'quickfix', // CodeActionKind.QuickFix,\n    diagnostics: [diagnostic],\n    edit: {\n      changes: {\n        [params.textDocument.uri]: [\n          {\n            range: diagnostic.range,\n            newText: suggestion,\n          },\n        ],\n      },\n    },\n  }))\n}\n","import type { CodeAction, CodeActionParams } from 'vscode-languageserver'\nimport { State } from '../util/state'\nimport { doValidate } from '../diagnostics/diagnosticsProvider'\nimport { rangesEqual } from '../util/rangesEqual'\nimport {\n  DiagnosticKind,\n  isInvalidApplyDiagnostic,\n  AugmentedDiagnostic,\n  isCssConflictDiagnostic,\n  isInvalidConfigPathDiagnostic,\n  isInvalidTailwindDirectiveDiagnostic,\n  isInvalidScreenDiagnostic,\n  isInvalidVariantDiagnostic,\n  isRecommendedVariantOrderDiagnostic,\n} from '../diagnostics/types'\nimport { flatten, dedupeBy } from '../util/array'\nimport { provideCssConflictCodeActions } from './provideCssConflictCodeActions'\nimport { provideInvalidApplyCodeActions } from './provideInvalidApplyCodeActions'\nimport { provideSuggestionCodeActions } from './provideSuggestionCodeActions'\n\nasync function getDiagnosticsFromCodeActionParams(\n  state: State,\n  params: CodeActionParams,\n  only?: DiagnosticKind[]\n): Promise<AugmentedDiagnostic[]> {\n  let document = state.editor.documents.get(params.textDocument.uri)\n  if (!document) return []\n  let diagnostics = await doValidate(state, document, only)\n\n  return params.context.diagnostics\n    .map((diagnostic) => {\n      return diagnostics.find((d) => {\n        return (\n          d.code === diagnostic.code &&\n          d.message === diagnostic.message &&\n          rangesEqual(d.range, diagnostic.range)\n        )\n      })\n    })\n    .filter(Boolean)\n}\n\nexport async function doCodeActions(state: State, params: CodeActionParams): Promise<CodeAction[]> {\n  if (!state.enabled) {\n    return []\n  }\n\n  let diagnostics = await getDiagnosticsFromCodeActionParams(\n    state,\n    params,\n    params.context.diagnostics\n      .map((diagnostic) => diagnostic.code)\n      .filter(Boolean) as DiagnosticKind[]\n  )\n\n  return Promise.all(\n    diagnostics.map((diagnostic) => {\n      if (isInvalidApplyDiagnostic(diagnostic)) {\n        return provideInvalidApplyCodeActions(state, params, diagnostic)\n      }\n\n      if (isCssConflictDiagnostic(diagnostic)) {\n        return provideCssConflictCodeActions(state, params, diagnostic)\n      }\n\n      if (\n        isInvalidConfigPathDiagnostic(diagnostic) ||\n        isInvalidTailwindDirectiveDiagnostic(diagnostic) ||\n        isInvalidScreenDiagnostic(diagnostic) ||\n        isInvalidVariantDiagnostic(diagnostic) ||\n        isRecommendedVariantOrderDiagnostic(diagnostic)\n      ) {\n        return provideSuggestionCodeActions(state, params, diagnostic)\n      }\n\n      return []\n    })\n  )\n    .then(flatten)\n    .then((x) => dedupeBy(x, (item) => JSON.stringify(item.edit)))\n}\n","import { State } from './util/state'\nimport {\n  findClassListsInDocument,\n  getClassNamesInClassList,\n  findHelperFunctionsInDocument,\n} from './util/find'\nimport { getColor, getColorFromValue, culoriColorToVscodeColor } from './util/color'\nimport { stringToPath } from './util/stringToPath'\nimport type { TextDocument, ColorInformation } from 'vscode-languageserver'\nimport dlv from 'dlv'\nimport { dedupeByRange } from './util/array'\n\nexport async function getDocumentColors(\n  state: State,\n  document: TextDocument\n): Promise<ColorInformation[]> {\n  let colors: ColorInformation[] = []\n  if (!state.enabled) return colors\n\n  let settings = await state.editor.getConfiguration(document.uri)\n  if (settings.tailwindCSS.colorDecorators === false) return colors\n\n  let classLists = await findClassListsInDocument(state, document)\n  classLists.forEach((classList) => {\n    let classNames = getClassNamesInClassList(classList)\n    classNames.forEach((className) => {\n      let color = getColor(state, className.className)\n      if (color === null || typeof color === 'string' || (color.alpha ?? 1) === 0) {\n        return\n      }\n      colors.push({\n        range: className.range,\n        color: culoriColorToVscodeColor(color),\n      })\n    })\n  })\n\n  let helperFns = findHelperFunctionsInDocument(state, document)\n  helperFns.forEach((fn) => {\n    let keys = stringToPath(fn.path)\n    let base = fn.helper === 'theme' ? ['theme'] : []\n    let value = dlv(state.config, [...base, ...keys])\n    let color = getColorFromValue(value)\n    if (color && typeof color !== 'string' && (color.alpha ?? 1) !== 0) {\n      colors.push({ range: fn.ranges.path, color: culoriColorToVscodeColor(color) })\n    }\n  })\n\n  return dedupeByRange(colors)\n}\n"],"names":["isObject","variable","Object","prototype","toString","call","removeMeta","obj","result","key","substr","rangesEqual","a","b","start","line","character","end","dedupe","arr","filter","value","index","self","indexOf","dedupeBy","transform","map","dedupeByRange","classList","classListIndex","findIndex","c","range","ensureArray","Array","isArray","flatten","arrays","concat","apply","equal","length","aSorted","sort","bSorted","i","equalExact","combinations","str","fn","active","rest","undefined","push","slice","getClassNameParts","state","className","separator","replace","parts","split","dlv","classNames","points","x","parseInt","possibilities","p","forEach","join","find","remToPx","rootSize","test","number","parseFloat","isNaN","bigSign","bigIntValue","generateRules","rules","modules","jit","module","Set","jitContext","z","root","postcss","nodes","rule","expandApplyAtRules","actualRules","walkRules","subRule","stringifyRoot","uri","settings","editor","getConfiguration","clone","walkAtRules","node","remove","tailwindCSS","showPixelEquivalents","walkDecls","decl","px","rootFontSize","_match","before","after","indent","repeat","tabSize","stringifyDecls","prop","replaceClassName","selector","selectors","walkClasses","postcssSelectorParser","processSync","getRuleContext","context","parent","type","unshift","name","params","COLOR_PROPS","getKeywordColor","lowercased","toLowerCase","colorRegex","RegExp","keys","namedColors","replaceColorVarsWithTheirDefaults","getColorsInString","from","matchAll","match","color","culori","Boolean","getColorFromDecls","decls","props","nonCustomProps","startsWith","areAllCustom","some","includes","propsToCheck","colors","flatMap","colorStrings","alpha","keyword","nonKeywordColors","alphas","getColor","item","__rule","getColorFromValue","trimmedValue","trim","toRgb","culoriColorToVscodeColor","rgb","red","r","green","g","blue","htmlLanguages","cssLanguages","jsLanguages","isJsDoc","doc","userJsLanguages","userLanguages","lang","languageId","isJsxContext","position","getText","boundaries","getLanguageBoundaries","isCssDoc","userCssLanguages","isCssContext","isHtmlDoc","isVueDoc","isSvelteDoc","isWithinRange","lazy","getter","evaluated","_res","res","arguments","isLazy","classAttributeStates","doubleClassList","arb","lbrace","rbrace","pop","classlist","lineBreaks","singleClassList","tickClassList","interpBrace","startSingle","startDouble","startTick","text","interpSingle","single","interpDouble","double","arbitrary","space","arb2","simpleClassAttributeStates","main","getClassAttributeLexer","supportsNegativeLookbehind","_","moo","states","start1","start2","start3","getComputedClassAttributeLexer","resolveRange","relativeTo","getTextWithoutComments","docOrText","getJsWithoutComments","char","jsLexer","commentLine","commentBlock","stringDouble","stringSingle","stringBacktick","other","reset","token","findAll","re","matches","exec","findLast","getClassNamesInClassList","important","names","indexToPosition","relativeRange","findClassNamesInRange","mode","includeCustom","classLists","findClassListsInRange","findClassListsInCssRange","globalStart","groups","findCustomClassLists","regexes","experimental","classRegex","containerRegexString","classRegexString","containerRegex","Regex","containerMatch","searchStart","offsetAt","matchStart","matchEnd","classMatch","classMatchStart","classMatchEnd","positionAt","matchClassAttributes","attributes","attrs","source","findClassListsInHtmlRange","classAttributes","subtext","lexer","endsWith","currentClassList","offset","beforeOffset","afterOffset","findClassListsInDocument","Promise","all","findHelperFunctionsInDocument","findHelperFunctionsInRange","quotesBefore","path","m","startIndex","prefix","helper","innerPrefix","ranges","full","col","lineColumn","findClassNameAtPosition","positionOffset","searchRange","Math","max","isHtmlContext","htmlScriptTypes","cssBlockStart","jsBlockStart","cssBlock","styleStart","next","cssBlockEnd","attrStartDouble","attrStartSingle","interp","jsBlock","scriptStart","jsBlockEnd","langAttrStartDouble","langAttrStartSingle","typeAttrStartDouble","typeAttrStartSingle","langAttrDouble","langAttrEnd","langAttrSingle","typeAttrDouble","typeAttrSingle","attrDouble","attrEnd","attrSingle","style","script","vueStates","htmlBlockStart","htmlBlock","htmlStart","htmlBlockEnd","html","nestedBlockStart","nestedBlock","nestedStart","nestedBlockEnd","nested","defaultLexer","vueLexer","cache","Cache","maxAge","cacheKey","cachedBoundaries","get","isJs","defaultType","set","userHtmlLanguages","stringifyConfigValue","stringifyObject","inlineCharacterLimit","Infinity","singleQuotes","originalResult","stringifyCss","css","indentStr","reduce","acc","curr","propStr","val","augmentClassName","pseudo","__pseudo","scope","__scope","escapeClassName","isRawScreen","screen","raw","stringifyScreen","min","isValidLocationForEmmetAbbreviation","document","abbreviationRange","startAngle","endAngle","escape","question","textToBackTrack","valid","foundSpace","naturalExpand","total","gte","v1","v2","semverGte","docsUrl","version","paths","major","url","semver","getClassNameMeta","classNameOrParts","info","__source","__context","flagEnabled","flag","featureFlags","future","config","validateApply","isApplyable","meta","reason","getVariantsFromClassName","allVariants","variants","variant","values","hasDash","splitAtTopLevelOnly","part","add","input","stack","lastPos","idx","isUtil","__info","completionsFromClassList","classListRange","partialClassName","sep","subset","subsetKey","isSubset","replacementRange","existingVariants","triggerKind","triggerCharacter","modifiers","beforeSlash","classListContainsMetadata","baseClassName","cls","testClass","opacities","withDefaults","isIncomplete","items","modifier","kind","documentation","label","sortText","data","completionItemData","capabilities","itemDefaults","variantOrder","variantItem","_type","command","insertTextFormat","title","isArbitrary","textEditText","shouldSortVariants","resultingVariants","detail","additionalTextEdits","newText","k","isContextItem","provideClassAttributeCompletions","tokens","last","provideCustomClassNameCompletions","cursor","Error","provideAtApplyCompletions","validated","NUMBER_REGEX","isNumber","provideClassNameCompletions","provideCssHelperCompletions","base","separators","totalLength","cur","o","editRange","aIsNumber","zIsNumber","replaceDot","insertClosingBrace","charAt","commitCharacters","provideTailwindDirectiveCompletions","partial","provideVariantsDirectiveCompletions","possibleVariants","v","screens","provideLayerDirectiveCompletions","layer","layers","completionList","defaults","supportedDefaults","defaultData","defaultRange","textEdit","provideScreenDirectiveCompletions","provideCssDirectiveCompletions","provideConfigDirectiveCompletions","valueBeforeLastSlash","substring","lastIndexOf","valueAfterLastSlash","readDirectory","isDirectory","provideEmmetCompletions","emmetCompletions","isHtml","syntax","extractAbbreviationResults","emmetHelper","abbreviation","symbols","getDocumentSymbols","symbol","emmetItems","doComplete","resolveCompletionItem","getCssDetail","DiagnosticKind","isCssConflictDiagnostic","diagnostic","code","CssConflict","isInvalidApplyDiagnostic","InvalidApply","isInvalidScreenDiagnostic","InvalidScreen","isInvalidVariantDiagnostic","InvalidVariant","isInvalidConfigPathDiagnostic","InvalidConfigPath","isInvalidTailwindDirectiveDiagnostic","InvalidTailwindDirective","isRecommendedVariantOrderDiagnostic","RecommendedVariantOrder","joinWithAnd","strings","getClassNameDecls","getCssConflictDiagnostics","severity","lint","cssConflict","diagnostics","properties","otherClassNames","_className","conflictingClassNames","otherClassName","otherRules","message","conflictingClassName","relatedInformation","location","otherDecls","otherMeta","getInvalidApplyDiagnostics","invalidApply","closest","options","sift","absoluteRange","reference","getInvalidScreenDiagnostics","invalidScreen","suggestions","suggestion","getInvalidVariantDiagnostics","invalidVariant","listStartIndex","variantStartIndex","rePropName","reEscapeChar","stringToPath","string","charCodeAt","quote","subString","pathToString","validateConfigPath","findAlternativePath","possibility","isValid","parentPath","parentValue","closestValidKey","altPath","String","Number","validKeys","validKey","getInvalidConfigPathDiagnostics","invalidConfigPath","helperFn","getInvalidTailwindDirectiveDiagnostics","invalidTailwindDirective","notSemicolonLanguages","regex","hasVariantsDirective","suggestable","getRecommendedVariantOrderDiagnostics","recommendedVariantOrder","sortedVariants","doValidate","only","validate","doHover","provideClassNameHover","provideCssHelperHover","helperFns","contents","language","removeRangesFromString","rangeOrRanges","finder","origin","indexRanges","toIndex","indexRange","provideCssConflictCodeActions","_state","edit","changes","textDocument","IMPORTANT","unitless","flex","opacity","order","orphans","widows","zoom","dashify","atRule","parse","hasOwnProperty","cssObjToAst","provideInvalidApplyCodeActions","documents","documentText","cssRange","cssText","totalClassNamesInClassList","classNameParts","classNameInfo","languageBoundaries","plugin","_options","atRuleRange","postcssSourceToRange","ast","classNameToAst","insertedRule","ruleRange","outputIndent","documentIndent","detectIndent","raws","process","column","validatedBaseClassName","globalContexts","common","con","dset","appendPseudosToSelector","pseudos","canTransform","transformedSelector","selectorParser","sel","append","provideSuggestionCodeActions","getDiagnosticsFromCodeActionParams","d","doCodeActions","enabled","then","JSON","stringify","getDocumentColors","colorDecorators"],"mappings":"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"}